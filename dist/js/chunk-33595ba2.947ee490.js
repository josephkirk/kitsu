(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33595ba2"],{"319f":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"asset-types page fixed-page"},[s("list-page-header",{attrs:{title:e.$t("asset_types.title"),"new-entry-label":e.$t("asset_types.new_asset_type")},on:{"new-clicked":e.onNewClicked}}),s("asset-type-list",{staticClass:"mt2",attrs:{entries:e.assetTypes,"is-loading":e.loading.list,"is-error":e.errors.list},on:{"edit-clicked":e.onEditClicked,"delete-clicked":e.onDeleteClicked}}),s("edit-asset-type-modal",{attrs:{active:e.modals.edit,"is-loading":e.loading.edit,"is-error":e.errors.edit,"asset-type-to-edit":e.assetTypeToEdit},on:{cancel:function(t){e.modals.edit=!1},confirm:e.confirmEditAssetType}}),s("delete-modal",{attrs:{active:e.modals.del,"is-loading":e.loading.del,"is-error":e.errors.del,text:e.deleteText,"error-text":e.$t("asset_types.delete_error")},on:{cancel:function(t){e.modals.del=!1},confirm:e.confirmDeleteAssetType}})],1)},a=[],n=(s("b0c0"),s("5530")),o=s("2f62"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"data-list"},[s("div",{staticClass:"datatable-wrapper"},[s("table",{staticClass:"datatable"},[s("thead",{staticClass:"datatable-head"},[s("tr",[s("th",{staticClass:"name",attrs:{scope:"col"}},[e._v(e._s(e.$t("asset_types.fields.name")))]),s("th",{staticClass:"actions",attrs:{scope:"col"}})])]),e.entries.length>0?s("tbody",{staticClass:"datatable-body"},e._l(e.entries,(function(t){return s("tr",{key:t.id,staticClass:"datatable-row"},[s("td",{staticClass:"name"},[e._v(" "+e._s(t.name)+" ")]),s("row-actions-cell",{attrs:{"entry-id":t.id},on:{"edit-clicked":function(s){return e.$emit("edit-clicked",t)},"delete-clicked":function(s){return e.$emit("delete-clicked",t)}}})],1)})),0):e._e()])]),s("table-info",{attrs:{"is-loading":e.isLoading,"is-error":e.isError}}),s("p",{staticClass:"has-text-centered nb-asset-types"},[e._v(" "+e._s(e.entries.length)+" "+e._s(e.$tc("asset_types.number",e.entries.length))+" ")])],1)},r=[],c=s("14b2"),d=s("e60b"),p={name:"asset-type-list",props:["entries","isLoading","isError"],data:function(){return{}},components:{RowActionsCell:c["a"],TableInfo:d["a"]},computed:Object(n["a"])({},Object(o["c"])([])),methods:Object(n["a"])({},Object(o["b"])([]))},u=p,f=(s("54d9"),s("2877")),m=Object(f["a"])(u,l,r,!1,null,"f8713b6a",null),y=m.exports,h=s("5f48"),T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{modal:!0,"is-active":e.active}},[s("div",{staticClass:"modal-background",on:{click:function(t){return e.$emit("cancel")}}}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"box"},[e.assetTypeToEdit&&e.assetTypeToEdit.id?s("h1",{staticClass:"title"},[e._v(" "+e._s(e.$t("asset_types.edit_title"))+" "+e._s(e.assetTypeToEdit.name)+" ")]):s("h1",{staticClass:"title"},[e._v(" "+e._s(e.$t("asset_types.new_asset_type"))+" ")]),s("form",{on:{submit:function(e){e.preventDefault()}}},[s("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{label:e.$t("asset_types.fields.name"),maxlength:30},on:{enter:e.runConfirmation},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),s("modal-footer",{attrs:{"error-text":e.$t("asset_types.create_error"),"is-error":e.isError,"is-loading":e.isLoading},on:{confirm:e.runConfirmation,cancel:function(t){return e.$emit("cancel")}}})],1)])])},b=[],_=s("d065"),v=s("d5c9"),g=s("7bf8"),C={name:"edit-asset-type-modal",mixins:[_["a"]],components:{ModalFooter:v["a"],TextField:g["a"]},props:["onConfirmClicked","text","active","cancelRoute","isLoading","isError","assetTypeToEdit"],data:function(){return{}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["assetTypes","assetTypeStatusOptions"])),{},{form:function(){return{name:""}}}),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])([])),{},{runConfirmation:function(){this.$emit("confirm",this.form)}}),watch:{active:function(){var e=this;this.active&&setTimeout((function(){e.$refs.nameField.focus()}),100)},assetTypeToEdit:function(){this.assetTypeToEdit&&(this.form.name=this.assetTypeToEdit.name)}}},E=C,w=(s("9faf"),Object(f["a"])(E,T,b,!1,null,"33242939",null)),O=w.exports,j=s("459c"),k={name:"asset-types",components:{AssetTypeList:y,DeleteModal:h["a"],EditAssetTypeModal:O,ListPageHeader:j["a"]},data:function(){return{assetTypeToDelete:null,assetTypeToEdit:{},choices:[],errors:{del:!1,edit:!1,list:!1},modals:{del:!1,edit:!1},loading:{del:!1,edit:!1,list:!1}}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["assetTypes","getAssetType"])),{},{deleteText:function(){var e=this.assetTypeToDelete;return e?this.$t("asset_types.delete_text",{name:e.name}):""}}),methods:Object(n["a"])(Object(n["a"])({},Object(o["b"])(["deleteAssetType","editAssetType","newAssetType","loadAssetTypes"])),{},{confirmEditAssetType:function(e){var t=this,s="newAssetType";this.assetTypeToEdit&&this.assetTypeToEdit.id&&(s="editAssetType",e.id=this.assetTypeToEdit.id),this.loading.edit=!0,this.errors.edit=!1,this[s](e).then((function(){t.loading.edit=!1,t.modals.edit=!1})).catch((function(e){console.error(e),t.loading.edit=!1,t.errors.edit=!0}))},confirmDeleteAssetType:function(){var e=this;this.loading.del=!0,this.errors.del=!1,this.deleteAssetType(this.assetTypeToDelete).then((function(){e.loading.del=!1,e.modals.del=!1})).catch((function(t){console.error(t),e.errors.del=!0,e.loading.del=!1}))},onNewClicked:function(){this.assetTypeToEdit={},this.errors.edit=!1,this.modals.edit=!0},onEditClicked:function(e){this.assetTypeToEdit=e,this.errors.edit=!1,this.modals.edit=!0},onDeleteClicked:function(e){this.assetTypeToDelete=e,this.errors.del=!1,this.modals.del=!0}}),watch:{},metaInfo:function(){return{title:"".concat(this.$t("asset_types.title")," - Kitsu")}}},$=k,x=Object(f["a"])($,i,a,!1,null,"6fc70676",null);t["default"]=x.exports},4248:function(e,t,s){},"459c":function(e,t,s){"use strict";var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"level page-header"},[s("div",{staticClass:"level-left"},[s("page-title",{attrs:{text:e.title}})],1),s("div",{staticClass:"level-right"},[s("button-simple",{staticClass:"level-item",attrs:{icon:"plus",text:e.newEntryLabel},on:{click:function(t){return e.$emit("new-clicked")}}})],1)])},a=[],n=s("5530"),o=s("2f62"),l=s("de40"),r=s("8d07"),c={name:"list-page-header",components:{ButtonSimple:l["a"],PageTitle:r["a"]},props:{title:{type:String,default:""},newEntryLabel:{type:String,default:""}},computed:Object(n["a"])({},Object(o["c"])([])),methods:Object(n["a"])({},Object(o["b"])([])),watch:{}},d=c,p=s("2877"),u=Object(p["a"])(d,i,a,!1,null,"bf4864ae",null);t["a"]=u.exports},"54d9":function(e,t,s){"use strict";s("7a5e")},"7a5e":function(e,t,s){},"9faf":function(e,t,s){"use strict";s("4248")}}]);
//# sourceMappingURL=chunk-33595ba2.947ee490.js.map