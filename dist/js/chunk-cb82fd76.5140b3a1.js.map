{"version":3,"sources":["webpack:///./src/components/lists/EntityTaskList.vue?1b0e","webpack:///src/components/lists/EntityTaskList.vue","webpack:///./src/components/lists/EntityTaskList.vue?219c","webpack:///./src/components/lists/EntityTaskList.vue","webpack:///./src/components/pages/Shot.vue?f5a7","webpack:///./src/components/lists/EntityTaskList.vue?a194","webpack:///./src/components/pages/Shot.vue?b7b0","webpack:///src/components/pages/Shot.vue","webpack:///./src/components/pages/Shot.vue?6e75","webpack:///./src/components/pages/Shot.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","ref","_v","_s","$t","attrs","isLoading","isError","entries","length","directives","name","rawName","value","expression","_l","taskId","key","id","class","selected","currentTask","on","$event","selectTask","getTask","getTaskType","currentProduction","_e","isCurrentUserClient","isCurrentUserVendor","getAssignees","personId","personMap","staticRenderFns","components","TableInfo","TaskTypeCell","PeopleAvatar","ValidationTag","props","type","Array","default","Boolean","data","computed","methods","onBodyScroll","$refs","headerWrapper","style","left","taskMap","task","taskTypeMap","task_type_id","assignees","$emit","component","shotsPath","currentShot","title","modals","edit","currentTasks","onTaskSelected","fps","frame_in","frame_out","nb_frames","descriptor","field_name","castingAssetsByType","typeAssets","asset_type_name","asset","buildAssetRoute","asset_name","nb_occurences","casting","loading","errors","confirmEditShot","ButtonSimple","ChevronLeftIcon","DescriptionCell","EditShotModal","EntityThumbnail","EntityTaskList","PageSubtitle","PageTitle","TaskInfo","mounted","clearSelectedTasks","getCurrentShot","loadShotCasting","resetData","tasks","episode_name","shotThumbnailPath","isPreview","changeTab","selectedTab","tab","shotMap","route","params","shot_id","onEditClicked","form","editShot","isTVShow","episodeId","production_id","asset_id","loadShots","watch","currentEpisode","Object","keys","metaInfo"],"mappings":"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","file":"js/chunk-cb82fd76.5140b3a1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data-list\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\"}},[_c('table',{ref:\"headerWrapper\",staticClass:\"datatable\"},[_c('thead',{staticClass:\"datatable-head\"},[_c('tr',{staticClass:\"datatable-row-header\"},[_c('th',{staticClass:\"type\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.task_type'))+\" \")]),_c('th',{staticClass:\"status\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.task_status'))+\" \")]),_c('th',{staticClass:\"assignees\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.fields.assignees'))+\" \")]),_c('th',{staticClass:\"end-cell\"})])])])]),_c('table-info',{attrs:{\"is-loading\":_vm.isLoading,\"is-error\":_vm.isError}}),(_vm.entries.length > 0)?_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll\",value:(_vm.onBodyScroll),expression:\"onBodyScroll\"}]},[_c('table',{staticClass:\"datatable\"},[_c('tbody',{staticClass:\"datatable-body\"},_vm._l((_vm.entries),function(taskId){return _c('tr',{key:typeof (taskId) === 'string' ? taskId : taskId.id,class:{\r\n            selected: _vm.currentTask && _vm.currentTask.id === taskId,\r\n            'datatable-row': true,\r\n            'datatable-row--selectable': true\r\n          },on:{\"click\":function($event){_vm.selectTask(_vm.getTask(taskId))}}},[(_vm.getTaskType(taskId))?_c('task-type-cell',{staticClass:\"type\",attrs:{\"task-type\":_vm.getTaskType(taskId),\"production-id\":_vm.currentProduction.id}}):_vm._e(),_c('td',{staticClass:\"status\"},[(_vm.getTask(taskId))?_c('validation-tag',{attrs:{\"task\":_vm.getTask(taskId),\"is-static\":true}}):_vm._e()],1),_c('td',{staticClass:\"assignees\"},[(!_vm.isCurrentUserClient && !_vm.isCurrentUserVendor)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.getAssignees(taskId)),function(personId){return _c('div',{key:personId,staticClass:\"avatar-wrapper\"},[_c('people-avatar',{key:taskId + '-' + personId,staticClass:\"person-avatar flexrow-item\",attrs:{\"person\":_vm.personMap[personId],\"size\":30,\"font-size\":15}})],1)}),0):_vm._e()]),_c('td',{staticClass:\"end-cell\"})],1)}),0)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"data-list\">\r\n\r\n  <div style=\"overflow: hidden\">\r\n    <table class=\"datatable\" ref=\"headerWrapper\">\r\n      <thead class=\"datatable-head\">\r\n        <tr class=\"datatable-row-header\">\r\n          <th class=\"type\">\r\n            {{ $t('tasks.fields.task_type') }}\r\n          </th>\r\n          <th class=\"status\">\r\n            {{ $t('tasks.fields.task_status') }}\r\n          </th>\r\n          <th class=\"assignees\">\r\n            {{ $t('tasks.fields.assignees') }}\r\n          </th>\r\n          <th class=\"end-cell\"></th>\r\n        </tr>\r\n      </thead>\r\n    </table>\r\n  </div>\r\n\r\n  <table-info\r\n    :is-loading=\"isLoading\"\r\n    :is-error=\"isError\"\r\n  />\r\n\r\n  <div v-scroll=\"onBodyScroll\" v-if=\"entries.length > 0\">\r\n    <table class=\"datatable\">\r\n      <tbody class=\"datatable-body\">\r\n        <tr\r\n          :key=\"typeof (taskId) === 'string' ? taskId : taskId.id\"\r\n          :class=\"{\r\n            selected: currentTask && currentTask.id === taskId,\r\n            'datatable-row': true,\r\n            'datatable-row--selectable': true\r\n          }\"\r\n          @click=\"selectTask(getTask(taskId))\"\r\n          v-for=\"taskId in entries\"\r\n        >\r\n          <task-type-cell\r\n            class=\"type\"\r\n            :task-type=\"getTaskType(taskId)\"\r\n            :production-id=\"currentProduction.id\"\r\n            v-if=\"getTaskType(taskId)\"\r\n          />\r\n          <td class=\"status\">\r\n            <validation-tag\r\n              :task=\"getTask(taskId)\"\r\n              :is-static=\"true\"\r\n              v-if=\"getTask(taskId)\"\r\n            />\r\n          </td>\r\n          <td class=\"assignees\">\r\n            <div\r\n              class=\"flexrow\"\r\n              v-if=\"!isCurrentUserClient && !isCurrentUserVendor\"\r\n            >\r\n              <div\r\n                class=\"avatar-wrapper\"\r\n                :key=\"personId\"\r\n                v-for=\"personId in getAssignees(taskId)\"\r\n              >\r\n                <people-avatar\r\n                  class=\"person-avatar flexrow-item\"\r\n                  :key=\"taskId + '-' + personId\"\r\n                  :person=\"personMap[personId]\"\r\n                  :size=\"30\"\r\n                  :font-size=\"15\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </td>\r\n          <td class=\"end-cell\"></td>\r\n       </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nimport TaskTypeCell from '../cells/TaskTypeName'\r\nimport TableInfo from '../widgets/TableInfo'\r\nimport ValidationTag from '../widgets/ValidationTag'\r\nimport PeopleAvatar from '../widgets/PeopleAvatar'\r\n\r\nexport default {\r\n  name: 'entity-task-list',\r\n\r\n  components: {\r\n    TableInfo,\r\n    TaskTypeCell,\r\n    PeopleAvatar,\r\n    ValidationTag\r\n  },\r\n\r\n  props: {\r\n    entries: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    isLoading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    isError: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      currentTask: null\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentProduction',\r\n      'isCurrentUserClient',\r\n      'isCurrentUserVendor',\r\n      'personMap',\r\n      'taskMap',\r\n      'taskTypeMap'\r\n    ])\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n    ]),\r\n\r\n    onBodyScroll (event, position) {\r\n      this.$refs.headerWrapper.style.left = `-${position.scrollLeft}px`\r\n    },\r\n\r\n    getTask (task) {\r\n      if (typeof (task) === 'string') {\r\n        return this.taskMap[task]\r\n      } else {\r\n        return task\r\n      }\r\n    },\r\n\r\n    getTaskType (entry) {\r\n      const task = this.getTask(entry)\r\n      return task ? this.taskTypeMap[task.task_type_id] : null\r\n    },\r\n\r\n    getAssignees (entry) {\r\n      const task = this.getTask(entry)\r\n      return task ? task.assignees : []\r\n    },\r\n\r\n    selectTask (task) {\r\n      this.currentTask = task\r\n      this.$emit('task-selected', task)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.data-list {\r\n  max-width: 500px;\r\n  margin-top: 0;\r\n}\r\n\r\n.type {\r\n  max-width: 250px;\r\n  min-width: 250px;\r\n}\r\n\r\n.status {\r\n  max-width: 100px;\r\n  min-width: 100px;\r\n}\r\n\r\n.assignees {\r\n  max-width: 150px;\r\n  min-width: 150px;\r\n}\r\n\r\n.end-cell {\r\n  width: 100%;\r\n}\r\n\r\n.flexrow-item {\r\n  margin-right: 0.3em;\r\n}\r\n\r\n.avatar-wrapper {\r\n  margin-right: 0.5em;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EntityTaskList.vue?vue&type=template&id=bbc1622c&scoped=true&\"\nimport script from \"./EntityTaskList.vue?vue&type=script&lang=js&\"\nexport * from \"./EntityTaskList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EntityTaskList.vue?vue&type=style&index=0&id=bbc1622c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bbc1622c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shot.vue?vue&type=style&index=0&id=0ea3d2b8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shot.vue?vue&type=style&index=0&id=0ea3d2b8&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=style&index=0&id=bbc1622c&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EntityTaskList.vue?vue&type=style&index=0&id=bbc1622c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"columns fixed-page shot\"},[_c('div',{staticClass:\"column main-column\"},[_c('div',{staticClass:\"page-header flexrow\"},[_c('router-link',{staticClass:\"flexrow-item has-text-centered back-link\",attrs:{\"to\":_vm.shotsPath}},[_c('chevron-left-icon')],1),(_vm.currentShot)?_c('entity-thumbnail',{staticClass:\"shot-thumbnail flexrow-item\",attrs:{\"entity\":_vm.currentShot,\"with-link\":false}}):_vm._e(),_c('div',{staticClass:\"flexrow-item\"},[_c('page-title',{staticClass:\"entity-title\",attrs:{\"text\":_vm.title}})],1),_c('div',{staticClass:\"flexrow-item\"},[(_vm.isCurrentUserManager)?_c('button-simple',{attrs:{\"icon\":\"edit\"},on:{\"click\":function($event){_vm.modals.edit = true}}}):_vm._e()],1)],1),_c('div',{staticClass:\"flexrow infos\"},[_c('div',{staticClass:\"flexrow-item\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('shots.tasks')}}),_c('entity-task-list',{staticClass:\"task-list\",attrs:{\"entries\":_vm.currentTasks,\"is-loading\":!_vm.currentShot,\"is-error\":false},on:{\"task-selected\":_vm.onTaskSelected}})],1),_c('div',{staticClass:\"flexrow-item\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('main.info')}}),_c('div',{staticClass:\"table-body\"},[(_vm.currentShot)?_c('table',{staticClass:\"datatable\"},[_c('tbody',{staticClass:\"datatable-body\"},[(_vm.currentShot.data && _vm.currentShot.data.fps)?_c('tr',{staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(_vm.$t('shots.fields.fps')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.currentShot ? _vm.currentShot.data.fps : '')+\" \")])]):_vm._e(),(_vm.currentShot.data && _vm.currentShot.data.frame_in)?_c('tr',{staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(_vm.$t('shots.fields.frame_in')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.currentShot ? _vm.currentShot.data.frame_in : '')+\" \")])]):_vm._e(),(_vm.currentShot.data && _vm.currentShot.data.frame_out)?_c('tr',{staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(_vm.$t('shots.fields.frame_out')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.currentShot ? _vm.currentShot.data.frame_out : '')+\" \")])]):_vm._e(),_c('tr',{staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(_vm.$t('shots.fields.description')))]),_c('description-cell',{attrs:{\"entry\":_vm.currentShot,\"full\":true}})],1),_c('tr',{staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(_vm.$t('shots.fields.nb_frames')))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.currentShot ? _vm.currentShot.nb_frames : '')+\" \")])]),_vm._l((_vm.shotMetadataDescriptors),function(descriptor){return _c('tr',{key:descriptor.id,staticClass:\"datatable-row\"},[_c('td',{staticClass:\"field-label\"},[_vm._v(_vm._s(descriptor.name))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.currentShot.data ? _vm.currentShot.data[descriptor.field_name] : '')+\" \")])])})],2)]):_vm._e()])],1)]),_c('div',{staticClass:\"shot-casting\"},[_c('page-subtitle',{attrs:{\"text\":_vm.$t('shots.casting')}}),(_vm.currentShot)?_c('div',[(_vm.currentShot.castingAssetsByType && _vm.currentShot.castingAssetsByType[0].length > 0)?_c('div',_vm._l((_vm.currentShot.castingAssetsByType),function(typeAssets){return _c('div',{key:typeAssets.length > 0 ? typeAssets[0].asset_type_name : '',staticClass:\"type-assets\"},[_c('div',{staticClass:\"asset-type\"},[_vm._v(\" \"+_vm._s(typeAssets.length > 0 ? typeAssets[0].asset_type_name : '')+\" (\"+_vm._s(typeAssets.length)+\") \")]),_c('div',{staticClass:\"asset-list\"},_vm._l((typeAssets),function(asset){return _c('router-link',{key:asset.id,staticClass:\"asset-link\",attrs:{\"to\":_vm.buildAssetRoute(asset)}},[_c('entity-thumbnail',{attrs:{\"entity\":asset,\"square\":true,\"empty-width\":103,\"empty-height\":103,\"with-link\":false}}),_c('div',[_c('span',[_vm._v(_vm._s(asset.asset_name))]),(asset.nb_occurences > 1)?_c('span',[_vm._v(\" (\"+_vm._s(asset.nb_occurences)+\") \")]):_vm._e()])],1)}),1)])}),0):_c('div',[_vm._v(\" \"+_vm._s(_vm.$t('shots.no_casting'))+\" \")])]):_c('table-info',{attrs:{\"is-loading\":_vm.casting.isLoading,\"is-error\":_vm.casting.isError}})],1)]),(_vm.currentTask)?_c('div',{staticClass:\"column side-column\"},[_c('task-info',{attrs:{\"task\":_vm.currentTask}})],1):_vm._e(),_c('edit-shot-modal',{ref:\"edit-shot-modal\",attrs:{\"active\":_vm.modals.edit,\"is-loading\":_vm.loading.edit,\"is-error\":_vm.errors.edit,\"shot-to-edit\":_vm.currentShot},on:{\"cancel\":function($event){_vm.modals.edit = false},\"confirm\":_vm.confirmEditShot}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"columns fixed-page shot\">\r\n  <div class=\"column main-column\">\r\n    <div class=\"page-header flexrow\">\r\n      <router-link\r\n        class=\"flexrow-item has-text-centered back-link\"\r\n        :to=\"shotsPath\"\r\n      >\r\n        <chevron-left-icon />\r\n      </router-link>\r\n      <entity-thumbnail\r\n        class=\"shot-thumbnail flexrow-item\"\r\n        :entity=\"currentShot\"\r\n        :with-link=\"false\"\r\n        v-if=\"currentShot\"\r\n      />\r\n      <div class=\"flexrow-item\">\r\n        <page-title :text=\"title\" class=\"entity-title\" />\r\n      </div>\r\n      <div class=\"flexrow-item\">\r\n        <button-simple\r\n          icon=\"edit\"\r\n          @click=\"modals.edit = true\"\r\n          v-if=\"isCurrentUserManager\"\r\n        />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"flexrow infos\">\r\n      <div class=\"flexrow-item\">\r\n      <page-subtitle :text=\"$t('shots.tasks')\" />\r\n      <entity-task-list\r\n        class=\"task-list\"\r\n        :entries=\"currentTasks\"\r\n        :is-loading=\"!currentShot\"\r\n        :is-error=\"false\"\r\n        @task-selected=\"onTaskSelected\"\r\n      />\r\n      </div>\r\n      <div class=\"flexrow-item\">\r\n        <page-subtitle :text=\"$t('main.info')\" />\r\n        <div class=\"table-body\">\r\n          <table class=\"datatable\" v-if=\"currentShot\">\r\n            <tbody class=\"datatable-body\">\r\n              <tr\r\n                class=\"datatable-row\"\r\n                v-if=\"currentShot.data && currentShot.data.fps\"\r\n              >\r\n                <td class=\"field-label\">{{ $t('shots.fields.fps') }}</td>\r\n                <td>\r\n                  {{ currentShot ? currentShot.data.fps : '' }}\r\n                </td>\r\n              </tr>\r\n\r\n              <tr\r\n                class=\"datatable-row\"\r\n                v-if=\"currentShot.data && currentShot.data.frame_in\"\r\n              >\r\n                <td class=\"field-label\">{{ $t('shots.fields.frame_in') }}</td>\r\n                <td>\r\n                  {{ currentShot ? currentShot.data.frame_in : '' }}\r\n                </td>\r\n              </tr>\r\n\r\n              <tr\r\n                class=\"datatable-row\"\r\n                v-if=\"currentShot.data && currentShot.data.frame_out\"\r\n              >\r\n                <td class=\"field-label\">{{ $t('shots.fields.frame_out') }}</td>\r\n                <td>\r\n                  {{ currentShot ? currentShot.data.frame_out : '' }}\r\n                </td>\r\n              </tr>\r\n\r\n              <tr\r\n                class=\"datatable-row\"\r\n              >\r\n                <td class=\"field-label\">{{ $t('shots.fields.description') }}</td>\r\n                <description-cell\r\n                  :entry=\"currentShot\"\r\n                  :full=\"true\"\r\n                />\r\n              </tr>\r\n\r\n              <tr\r\n                class=\"datatable-row\"\r\n              >\r\n                <td class=\"field-label\">{{ $t('shots.fields.nb_frames') }}</td>\r\n                <td>\r\n                  {{ currentShot ? currentShot.nb_frames : '' }}\r\n                </td>\r\n              </tr>\r\n\r\n              <tr\r\n                :key=\"descriptor.id\"\r\n                class=\"datatable-row\"\r\n                v-for=\"descriptor in shotMetadataDescriptors\"\r\n              >\r\n                <td class=\"field-label\">{{ descriptor.name }}</td>\r\n                <td>\r\n                  {{ currentShot.data ? currentShot.data[descriptor.field_name] : '' }}\r\n                </td>\r\n              </tr>\r\n\r\n            </tbody>\r\n        </table>\r\n      </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"shot-casting\">\r\n      <page-subtitle :text=\"$t('shots.casting')\" />\r\n      <div v-if=\"currentShot\">\r\n        <div\r\n            v-if=\"currentShot.castingAssetsByType && currentShot.castingAssetsByType[0].length > 0\"\r\n        >\r\n          <div\r\n            class=\"type-assets\"\r\n            :key=\"typeAssets.length > 0 ? typeAssets[0].asset_type_name : ''\"\r\n            v-for=\"typeAssets in currentShot.castingAssetsByType\"\r\n          >\r\n            <div class=\"asset-type\">\r\n              {{ typeAssets.length > 0 ? typeAssets[0].asset_type_name : '' }}\r\n              ({{ typeAssets.length }})\r\n            </div>\r\n            <div class=\"asset-list\">\r\n              <router-link\r\n                class=\"asset-link\"\r\n                :key=\"asset.id\"\r\n                :to=\"buildAssetRoute(asset)\"\r\n                v-for=\"asset in typeAssets\"\r\n              >\r\n                <entity-thumbnail\r\n                  :entity=\"asset\"\r\n                  :square=\"true\"\r\n                  :empty-width=\"103\"\r\n                  :empty-height=\"103\"\r\n                  :with-link=\"false\"\r\n                />\r\n                <div>\r\n                  <span>{{ asset.asset_name }}</span>\r\n                  <span v-if=\"asset.nb_occurences > 1\">\r\n                    ({{ asset.nb_occurences }})\r\n                  </span>\r\n                </div>\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else>\r\n          {{ $t('shots.no_casting') }}\r\n        </div>\r\n      </div>\r\n      <table-info\r\n        :is-loading=\"casting.isLoading\"\r\n        :is-error=\"casting.isError\"\r\n        v-else\r\n      />\r\n    </div>\r\n  </div>\r\n\r\n  <div\r\n    class=\"column side-column\"\r\n    v-if=\"currentTask\"\r\n  >\r\n    <task-info\r\n      :task=\"currentTask\"\r\n    />\r\n  </div>\r\n\r\n  <edit-shot-modal\r\n    ref=\"edit-shot-modal\"\r\n    :active=\"modals.edit\"\r\n    :is-loading=\"loading.edit\"\r\n    :is-error=\"errors.edit\"\r\n    :shot-to-edit=\"currentShot\"\r\n    @cancel=\"modals.edit = false\"\r\n    @confirm=\"confirmEditShot\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { ChevronLeftIcon } from 'vue-feather-icons'\r\n\r\nimport { episodifyRoute } from '@/lib/path'\r\n\r\nimport ButtonSimple from '@/components/widgets/ButtonSimple'\r\nimport DescriptionCell from '@/components/cells/DescriptionCell'\r\nimport EditShotModal from '@/components/modals/EditShotModal'\r\nimport EntityThumbnail from '@/components/widgets/EntityThumbnail'\r\nimport EntityTaskList from '@/components/lists/EntityTaskList'\r\nimport PageTitle from '@/components/widgets/PageTitle'\r\nimport PageSubtitle from '@/components/widgets/PageSubtitle'\r\nimport TableInfo from '@/components/widgets/TableInfo'\r\nimport TaskInfo from '@/components/sides/TaskInfo'\r\n\r\nexport default {\r\n  name: 'shot',\r\n  components: {\r\n    ButtonSimple,\r\n    ChevronLeftIcon,\r\n    DescriptionCell,\r\n    EditShotModal,\r\n    EntityThumbnail,\r\n    EntityTaskList,\r\n    PageSubtitle,\r\n    PageTitle,\r\n    TableInfo,\r\n    TaskInfo\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      currentShot: null,\r\n      currentTask: null,\r\n      casting: {\r\n        isLoading: false,\r\n        isError: false\r\n      },\r\n      errors: {\r\n        edit: false\r\n      },\r\n      loading: {\r\n        edit: false\r\n      },\r\n      modals: {\r\n        edit: false\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this.clearSelectedTasks()\r\n    this.currentShot = this.getCurrentShot()\r\n\r\n    this.casting.isLoading = true\r\n    this.casting.isError = false\r\n\r\n    if (this.currentShot) {\r\n      this.loadShotCasting(this.currentShot)\r\n        .then(() => {\r\n          this.casting.isLoading = false\r\n        })\r\n        .catch((err) => {\r\n          this.casting.isError = true\r\n          console.error(err)\r\n        })\r\n    } else {\r\n      this.resetData()\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentEpisode',\r\n      'currentProduction',\r\n      'isCurrentUserManager',\r\n      'isTVShow',\r\n      'route',\r\n      'taskMap',\r\n      'shotMap',\r\n      'shotMetadataDescriptors',\r\n      'shotsPath'\r\n    ]),\r\n\r\n    currentTasks () {\r\n      return this.currentShot ? this.currentShot.tasks : []\r\n    },\r\n\r\n    title () {\r\n      if (this.currentShot) {\r\n        if (this.currentShot.episode_name) {\r\n          return `${this.currentShot.episode_name} / ` +\r\n                 `${this.currentShot.sequence_name} / ` +\r\n                 `${this.currentShot.name}`\r\n        } else {\r\n          return `${this.currentShot.sequence_name} / ` +\r\n                 `${this.currentShot.name}`\r\n        }\r\n      } else {\r\n        return 'Loading...'\r\n      }\r\n    },\r\n\r\n    shotThumbnailPath () {\r\n      const previewId = this.currentShot.preview_file_id\r\n      return `/api/pictures/originals/preview-files/${previewId}.png`\r\n    },\r\n\r\n    isPreview () {\r\n      return this.currentShot &&\r\n        this.currentShot.preview_file_id &&\r\n        this.currentShot.preview_file_id.length > 0\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      'clearSelectedTasks',\r\n      'editShot',\r\n      'loadAssets',\r\n      'loadShots',\r\n      'loadShotCasting'\r\n    ]),\r\n\r\n    changeTab (tab) {\r\n      this.selectedTab = tab\r\n    },\r\n\r\n    getCurrentShot () {\r\n      return this.shotMap[this.route.params.shot_id] || null\r\n    },\r\n\r\n    onEditClicked () {\r\n      this.modals.edit = true\r\n    },\r\n\r\n    confirmEditShot (form) {\r\n      form.id = this.currentShot.id\r\n      this.loading.edit = true\r\n      this.errors.edit = false\r\n      this.editShot(form)\r\n        .then(() => {\r\n          this.loading.edit = false\r\n          this.modals.edit = false\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.loading.edit = false\r\n          this.errors.edit = true\r\n        })\r\n    },\r\n\r\n    onTaskSelected (task) {\r\n      this.currentTask = task\r\n    },\r\n\r\n    buildAssetRoute (asset) {\r\n      let episodeId = asset.episode_id\r\n      if (this.isTVShow && !episodeId) episodeId = 'main'\r\n      const route = {\r\n        name: 'asset',\r\n        params: {\r\n          production_id: this.currentProduction.id,\r\n          asset_id: asset.asset_id\r\n        }\r\n      }\r\n      return episodifyRoute(route, episodeId)\r\n    },\r\n\r\n    resetData () {\r\n      this.loadShots(() => {\r\n        this.loadAssets()\r\n          .then(() => {\r\n            this.currentShot = this.getCurrentShot()\r\n            return this.loadShotCasting(this.currentShot)\r\n              .then(() => {\r\n                this.casting.isLoading = false\r\n              })\r\n              .catch((err) => {\r\n                console.error(err)\r\n                this.casting.isError = true\r\n              })\r\n          })\r\n      })\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    currentProduction () {\r\n      if (!this.isTVShow) this.resetData()\r\n    },\r\n\r\n    currentEpisode () {\r\n      if (this.isTVShow && Object.keys(this.shotMap).length === 0) {\r\n        this.resetData()\r\n      }\r\n    }\r\n  },\r\n\r\n  metaInfo () {\r\n    return {\r\n      title: `${this.title} - Kitsu`\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dark .page {\r\n  background: $dark-grey-light;\r\n  height: 100%;\r\n  padding-bottom: 1em;\r\n}\r\n\r\n.dark .page-header,\r\n.dark .shot-casting,\r\n.dark .infos {\r\n  background: #46494F;\r\n  border-color: $dark-grey;\r\n  box-shadow: 0px 0px 6px #333;\r\n}\r\n\r\nh2.subtitle {\r\n  margin-top: 0;\r\n  margin-bottom: 0.5em;\r\n  font-weight: 300;\r\n  font-size: 1.5em;\r\n}\r\n\r\n.page {\r\n  background: #F9F9F9;\r\n  padding: 0em;\r\n}\r\n\r\n.page-header {\r\n  padding: 1em 1em 1em 1em;\r\n  background: white;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n  margin-top: calc(50px + 2em);\r\n  margin-bottom: 2em;\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n}\r\n\r\n.infos {\r\n  background: white;\r\n  padding: 1em 1em 1em 1em;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n  margin-bottom: 1em;\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n\r\n  .flexrow-item {\r\n    align-self: flex-start;\r\n    flex: 1;\r\n  }\r\n}\r\n\r\n.shot-casting {\r\n  margin-left: 1em;\r\n  margin-right: 1em;\r\n  background: white;\r\n  padding: 1em;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n}\r\n\r\n.shot-thumbnail {\r\n  max-width: 100px;\r\n}\r\n\r\n.asset-link .thumbnail-picture {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.asset-type {\r\n  text-transform: uppercase;\r\n  font-size: 1.2em;\r\n  color: var(--text);\r\n  margin-top: 2em;\r\n  margin-bottom: 0.4em;\r\n}\r\n\r\n.asset-list {\r\n  color: var(--text);\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.asset-link {\r\n  color: inherit;\r\n  margin-right: 1em;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.asset-link div {\r\n  max-width: 100px;\r\n}\r\n\r\n.asset-link span {\r\n  word-wrap: break-word;\r\n}\r\n\r\n.field-label {\r\n  font-weight: bold;\r\n  width: 140px;\r\n}\r\n\r\n.page-header {\r\n  align-items: center;\r\n}\r\n\r\n.data-list {\r\n  max-width: 100%;\r\n}\r\n\r\n.page-header .thumbnail-picture {\r\n  margin: 0 1em 0 0;\r\n  max-width: 80px;\r\n}\r\n\r\n.back-link {\r\n  padding-top: 3px;\r\n}\r\n\r\n.task-list {\r\n  width: 100%;\r\n}\r\n\r\n.datatable-row {\r\n  user-select: text;\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n  .task-column {\r\n    margin-bottom: 1em;\r\n  }\r\n\r\n  .column:first-child {\r\n    margin-right: 0;\r\n  }\r\n\r\n  .entity-title {\r\n    font-size: 1.3em;\r\n    line-height: 1.5em;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shot.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shot.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shot.vue?vue&type=template&id=0ea3d2b8&scoped=true&\"\nimport script from \"./Shot.vue?vue&type=script&lang=js&\"\nexport * from \"./Shot.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Shot.vue?vue&type=style&index=0&id=0ea3d2b8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ea3d2b8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}