{"version":3,"sources":["webpack:///./src/components/pages/Playlist.vue?02bf","webpack:///./src/components/pages/Playlist.vue?340f","webpack:///./src/components/widgets/ErrorText.vue?ee3d","webpack:///src/components/widgets/ErrorText.vue","webpack:///./src/components/widgets/ErrorText.vue?f04f","webpack:///./src/components/widgets/ErrorText.vue","webpack:///src/components/pages/Playlist.vue","webpack:///./src/components/pages/Playlist.vue?2e53","webpack:///./src/components/pages/Playlist.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","playlists","length","class","column","toggled","isListToggled","_e","attrs","$t","sortOptions","model","value","callback","$$v","currentSort","expression","staticStyle","on","$event","isCurrentUserManager","key","button","loading","addPlaylist","showAddModal","_v","_s","_l","playlist","id","for_client","selected","currentPlaylist","getPlaylistPath","first_preview_file_id","name","formatDate","updated_at","errors","playlistsInit","created_at","big","ref","currentEntities","isAddingEntity","isAssetPlaylist","showEditModal","toggleAddEntities","onPreviewChanged","onTaskTypeChanged","$router","push","playlistsPath","removeEntity","onOrderChange","onAnnotationChanged","onForClientChanged","addEntitiesText","onSearchChange","modals","isBuildFilterDisplayed","isAdditionLoading","addCurrentSelection","addDaily","addDailyPending","isTVShow","addEpisode","addEpisodePending","addMovie","directives","rawName","isShotsLoading","isAssetsLoading","typeAssets","i","asset_type_name","filter","a","canceled","asset","preventDefault","addEntityToPlaylist","preview_file_id","sequenceShots","sequence_name","sequence_id","addSequence","s","shot","playlisted","undefined","isEditDisplayed","editPlaylist","playlistToEdit","hideEditModal","confirmEditPlaylist","confirmBuildFilter","staticRenderFns","alignRight","hidden","text","props","default","type","String","Boolean","component","components","BuildFilterModal","ButtonSimple","Combobox","ErrorText","EditPlaylistModal","LightEntityThumbnail","PageSubtitle","PlaylistPlayer","PlusIcon","SearchField","Spinner","XIcon","data","sortedPlaylists","isDeleteDisplayed","addWeekly","deletePlaylist","playlistLoading","computed","for_entity","isAddSearchVisible","lastPlaylistsUpdated","lastPlaylistsCreated","slice","playlistPlayer","$refs","tvShowPageTitle","currentEpisode","episodeName","shortPageTitle","methods","loadShotsData","loadShots","loadAssetsData","displayedAssets","loadAssets","Promise","resolve","loadPlaylistsData","loadPlaylists","err","setFirstPlaylist","rebuildCurrentEntities","shots","forEach","playlistEntity","tmpEntities","$nextTick","convertEntityToPlaylistFormat","entity","assetMap","entityInfo","shotMap","parent_name","preview_files","preview_file_extension","preview_file_task_id","preview_file_annotations","preview_file_previews","setCurrentPlaylist","loadPlaylist","console","error","currentShots","addEntity","loadEntityPreviewFiles","addToStorePlaylistAndSave","pushEntityToPlaylist","previewFiles","addToPlayerPlaylist","entityList","removeEntityPreviewFromPlaylist","clearCurrentPlaylist","resetPlaylist","$options","silent","addEntities","addAllPending","getPending","reverse","entities","changePlaylistPreview","previewFileId","changePlaylistOrder","info","updatePreviewAnnotation","setValue","query","searchQuery","setAssetSearch","displayMoreAssets","setShotSearch","displayMoreShots","forClient","runAddPlaylist","form","production_id","currentProduction","is_for_all","newPlaylist","episode_id","runEditPlaylist","Object","assign","goFirstPlaylist","params","playlist_id","changePlaylistType","taskTypeId","onBodyScroll","maxHeight","position","scrollTop","resetSorting","includes","order","reloadAll","mounted","localStorage","getItem","watch","$route","$store","commit","setItem","socket","events","playlistMap","eventData","refreshPlaylist","build_jobs","build_job_id","status","metaInfo"],"mappings":"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","file":"js/chunk-adb55b0a.fd31a8a7.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=style&index=0&id=552bbeda&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"playlists page fixed-page dark\"},[_c('div',{staticClass:\"columns\"},[(_vm.playlists.length > 0)?_c('div',{class:{\n        'playlist-list-column': true,\n        column: true,\n        toggled: _vm.isListToggled\n      }},[_c('div',{staticClass:\"flexrow\"},[(!_vm.isListToggled)?[_c('combobox',{staticClass:\"flexrow-item\",attrs:{\"label\":_vm.$t('main.sorted_by'),\"options\":_vm.sortOptions,\"thin\":true,\"locale-key-prefix\":\"playlists.fields.\"},model:{value:(_vm.currentSort),callback:function ($$v) {_vm.currentSort=$$v},expression:\"currentSort\"}}),_c('span',{staticClass:\"flexrow-item filler\"})]:_vm._e(),_c('button-simple',{staticClass:\"flexrow-item\",staticStyle:{\"flex\":\"0\"},attrs:{\"icon\":_vm.isListToggled ? 'right' : 'left'},on:{\"click\":function($event){_vm.isListToggled = !_vm.isListToggled}}})],2),(_vm.isCurrentUserManager && !_vm.isListToggled)?_c('button',{key:\"new-playlist-button\",class:{\n          button: true,\n          'is-loading': _vm.loading.addPlaylist\n        },on:{\"click\":_vm.showAddModal}},[_c('plus-icon',{staticClass:\"icon is-small\"}),_vm._v(\" \"+_vm._s(_vm.$t('playlists.new_playlist'))+\" \")],1):_vm._e(),(!_vm.loading.playlists)?_c('div',{staticClass:\"playlists\"},_vm._l((_vm.sortedPlaylists),function(playlist){return _c('router-link',{key:playlist.id,class:{\n            'playlist-item': true,\n            'for-client': playlist.for_client || false,\n            selected: playlist.id === _vm.currentPlaylist.id\n          },attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[(!_vm.isListToggled)?_c('div',[_c('span',[_vm._v(\" \"+_vm._s(playlist.name)+\" \")]),_c('span',{staticClass:\"playlist-date\",attrs:{\"title\":\"last modified\"}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.updated_at'))+\" \"+_vm._s(_vm.formatDate(playlist.updated_at))+\" \")])]):_c('div',{staticClass:\"has-text-centered\"},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"auto\",\"height\":\"auto\",\"max-width\":\"40px\",\"max-height\":\"30px\",\"empty-height\":\"30px\",\"title\":playlist.name}})],1)])}),1):_c('spinner',{staticClass:\"mt2\"}),(_vm.errors.playlistLoading)?_c('error-text',{attrs:{\"text\":\"$t('playlists.loading_error')\"}}):_vm._e()],1):_vm._e(),(_vm.playlists.length > 0 && !_vm.currentPlaylist.id && !_vm.loading.playlist)?_c('div',{staticClass:\"playlist-column no-selection\"},[_c('h2',[_vm._v(_vm._s(_vm.$t('playlists.last_creation')))]),(!_vm.loading.playlists && !_vm.loading.playlistsInit)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.lastPlaylistsCreated),function(playlist){return _c('router-link',{key:'recent-playlist-' + playlist.id,staticClass:\"recent-playlist flexrow-item\",attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('div',{staticClass:\"has-text-centered\"},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"auto\",\"height\":\"auto\",\"max-width\":\"300px\",\"max-height\":\"150px\",\"empty-height\":\"150px\"}})],1),_c('h3',[_vm._v(_vm._s(playlist.name))]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('playlists.created_at'))+\" \"+_vm._s(_vm.formatDate(playlist.created_at))+\" \")])])}),1):_c('spinner',{staticClass:\"mt2\"}),_c('h2',[_vm._v(_vm._s(_vm.$t('playlists.last_modification')))]),(!_vm.loading.playlists)?_c('div',{staticClass:\"flexrow\"},_vm._l((_vm.lastPlaylistsUpdated),function(playlist){return _c('router-link',{key:'recent-modified-playlist-' + playlist.id,staticClass:\"recent-playlist flexrow-item\",attrs:{\"to\":_vm.getPlaylistPath(playlist.id)}},[_c('div',{staticClass:\"has-text-centered\"},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":playlist.first_preview_file_id,\"type\":\"previews\",\"width\":\"auto\",\"height\":\"auto\",\"max-width\":\"300px\",\"max-height\":\"150px\",\"empty-height\":\"150px\"}})],1),_c('h3',[_vm._v(_vm._s(playlist.name))]),_c('span',[_vm._v(\" \"+_vm._s(_vm.$t('playlists.updated_at'))+\" \"+_vm._s(_vm.formatDate(playlist.updated_at))+\" \")])])}),1):_c('spinner',{staticClass:\"mt2\"})],1):(_vm.playlists.length === 0)?_c('div',{staticClass:\"playlist-column no-selection has-text-centered\"},[(!_vm.loading.playlists && !_vm.loading.playlistsInit)?_c('div',[_c('p',{staticClass:\"empty-explaination\"},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.no_playlist'))+\" \")]),(_vm.isCurrentUserManager)?_c('button',{key:\"new-playlist-button\",class:{\n            big: true,\n            button: true,\n            'is-loading': _vm.loading.addPlaylist\n          },on:{\"click\":_vm.showAddModal}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.new_playlist'))+\" \")]):_vm._e()]):_c('spinner',{staticClass:\"mt2\"})],1):_c('div',{staticClass:\"playlist-column column\"},[_c('playlist-player',{ref:\"playlist-player\",attrs:{\"playlist\":_vm.currentPlaylist,\"entities\":_vm.currentEntities,\"is-loading\":_vm.loading.playlist,\"is-adding-entity\":_vm.isAddingEntity,\"is-asset-playlist\":_vm.isAssetPlaylist},on:{\"edit-clicked\":_vm.showEditModal,\"show-add-entities\":_vm.toggleAddEntities,\"preview-changed\":_vm.onPreviewChanged,\"task-type-changed\":_vm.onTaskTypeChanged,\"playlist-deleted\":function($event){return _vm.$router.push(_vm.playlistsPath)},\"remove-entity\":_vm.removeEntity,\"order-change\":_vm.onOrderChange,\"annotationchanged\":_vm.onAnnotationChanged,\"for-client-changed\":_vm.onForClientChanged}}),(_vm.isCurrentUserManager && _vm.isAddingEntity && !_vm.loading.playlist)?_c('div',[_c('div',{staticClass:\"addition-header\"},[_c('div',{staticClass:\"flexrow\"},[_c('page-subtitle',{staticClass:\"flexrow-item\",attrs:{\"text\":_vm.addEntitiesText}}),_c('span',{staticClass:\"filler\"}),_c('a',{staticClass:\"close-button\",on:{\"click\":_vm.toggleAddEntities}},[_c('x-icon')],1)],1),_c('div',{staticClass:\"flexrow\"},[_c('search-field',{ref:\"search-field\",staticClass:\"flexrow-item\",attrs:{\"can-save\":false,\"placeholder\":_vm.isAssetPlaylist ? 'chars mode=wfa' : 'ex: seq01 anim=wfa'},on:{\"change\":_vm.onSearchChange}}),_c('button-simple',{staticClass:\"flexrow-item\",attrs:{\"title\":_vm.$t('entities.build_filter.title'),\"icon\":\"funnel\"},on:{\"click\":function($event){_vm.modals.isBuildFilterDisplayed = true}}}),(_vm.isAddSearchVisible)?_c('button',{class:{\n                button: true,\n                'flexrow-item': true,\n                'add-sequence': true\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addCurrentSelection}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_selection'))+\" \")]):_vm._e(),_c('span',{staticClass:\"filler\"}),(!_vm.isAssetPlaylist)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addDaily\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addDailyPending}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.build_daily'))+\" \")]):_vm._e(),(_vm.isTVShow && !_vm.isAssetPlaylist)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addEpisode\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addEpisodePending}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_episode'))+\" \")]):(!_vm.isAssetPlaylist)?_c('button',{class:{\n                button: true,\n                'add-sequence': true,\n                'is-loading': this.loading.addMovie\n              },attrs:{\"disabled\":_vm.isAdditionLoading},on:{\"click\":_vm.addMovie}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_movie'))+\" \")]):_vm._e()],1)])]):_vm._e(),(_vm.isCurrentUserManager && _vm.isAddingEntity)?_c('div',{directives:[{name:\"scroll\",rawName:\"v-scroll\",value:(_vm.onBodyScroll),expression:\"onBodyScroll\"}],staticClass:\"addition-section\"},[(_vm.isShotsLoading || _vm.isAssetsLoading)?_c('spinner',{key:\"entity-loader\",staticClass:\"mt2\"}):_c('div',{ref:\"entityListContent\"},[(_vm.isAssetPlaylist)?_c('div',_vm._l((_vm.displayedAssetsByType),function(typeAssets,i){return _c('div',{key:'asset-type-' + i},[(typeAssets.length > 0)?_c('h2',{staticClass:\"entity-group-title\"},[_vm._v(\" \"+_vm._s(typeAssets[0].asset_type_name)+\" \")]):_vm._e(),_c('div',{staticClass:\"addition-entities\"},_vm._l((typeAssets.filter(function (a) { return !a.canceled; })),function(asset){return _c('div',{key:asset.id,class:{\n                    'addition-shot': true\n                  },on:{\"click\":function($event){$event.preventDefault();return _vm.addEntityToPlaylist(asset)}}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":asset.preview_file_id,\"width\":\"150px\",\"height\":\"100px\"}}),_c('span',{staticClass:\"playlisted-shot-name\"},[_vm._v(_vm._s(asset.name))])],1)}),0)])}),0):_c('div',_vm._l((_vm.displayedShotsBySequence),function(sequenceShots,i){return _c('div',{key:'sequence-' + i},[(sequenceShots.length > 0)?_c('h2',{staticClass:\"entity-group-title\"},[_vm._v(\" \"+_vm._s(sequenceShots[0].sequence_name)+\" \"),(_vm.isCurrentUserManager)?_c('button',{key:'add-sequence-button-' + sequenceShots[0].sequence_id,staticClass:\"button\",on:{\"click\":function($event){return _vm.addSequence(sequenceShots)}}},[_vm._v(\" \"+_vm._s(_vm.$t('playlists.add_sequence'))+\" \")]):_vm._e()]):_vm._e(),_c('div',{staticClass:\"addition-entities\"},_vm._l((sequenceShots.filter(function (s) { return !s.canceled; })),function(shot){return _c('div',{key:shot.id,class:{\n                    'addition-shot': true,\n                    playlisted: _vm.currentEntities[shot.id] !== undefined\n                  },on:{\"click\":function($event){$event.preventDefault();return _vm.addEntityToPlaylist(shot)}}},[_c('light-entity-thumbnail',{attrs:{\"preview-file-id\":shot.preview_file_id,\"width\":\"150px\",\"height\":\"100px\"}}),_c('span',{staticClass:\"playlisted-shot-name\"},[_vm._v(_vm._s(shot.name))])],1)}),0)])}),0)])],1):_vm._e()],1)]),_c('edit-playlist-modal',{ref:\"edit-playlist-modal\",attrs:{\"active\":_vm.modals.isEditDisplayed,\"is-loading\":_vm.loading.editPlaylist,\"is-error\":_vm.errors.editPlaylist,\"playlist-to-edit\":_vm.playlistToEdit},on:{\"cancel\":_vm.hideEditModal,\"confirm\":_vm.confirmEditPlaylist}}),_c('build-filter-modal',{ref:\"build-filter-modal\",attrs:{\"active\":_vm.modals.isBuildFilterDisplayed,\"entity-type\":_vm.isAssetPlaylist ? 'asset' : 'shot'},on:{\"confirm\":_vm.confirmBuildFilter,\"cancel\":function($event){_vm.modals.isBuildFilterDisplayed = false}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{class:{\r\n  'error': true,\r\n  'has-text-right': _vm.alignRight,\r\n  'is-hidden': _vm.hidden\r\n}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<p :class=\"{\r\n  'error': true,\r\n  'has-text-right': alignRight,\r\n  'is-hidden': hidden\r\n}\">\r\n  {{ text }}\r\n</p>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'error-text',\r\n  props: {\r\n    text: {\r\n      default: '',\r\n      type: String\r\n    },\r\n    hidden: {\r\n      default: false,\r\n      type: Boolean\r\n    },\r\n    alignRight: {\r\n      default: false,\r\n      type: Boolean\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ErrorText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ErrorText.vue?vue&type=template&id=1338c033&\"\nimport script from \"./ErrorText.vue?vue&type=script&lang=js&\"\nexport * from \"./ErrorText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"playlists page fixed-page dark\">\r\n    <div class=\"columns\">\r\n      <div\r\n        :class=\"{\r\n          'playlist-list-column': true,\r\n          column: true,\r\n          toggled: isListToggled\r\n        }\"\r\n        v-if=\"playlists.length > 0\"\r\n      >\r\n\r\n        <div class=\"flexrow\">\r\n          <template v-if=\"!isListToggled\">\r\n            <combobox\r\n              class=\"flexrow-item\"\r\n              :label=\"$t('main.sorted_by')\"\r\n              :options=\"sortOptions\"\r\n              :thin=\"true\"\r\n              locale-key-prefix=\"playlists.fields.\"\r\n              v-model=\"currentSort\"\r\n            />\r\n            <span class=\"flexrow-item filler\"></span>\r\n          </template>\r\n          <button-simple\r\n            class=\"flexrow-item\"\r\n            style=\"flex: 0;\"\r\n            @click=\"isListToggled = !isListToggled\"\r\n            :icon=\"isListToggled ? 'right' : 'left'\"\r\n          />\r\n        </div>\r\n\r\n        <button\r\n          :class=\"{\r\n            button: true,\r\n            'is-loading': loading.addPlaylist\r\n          }\"\r\n          @click=\"showAddModal\"\r\n          key=\"new-playlist-button\"\r\n          v-if=\"isCurrentUserManager && !isListToggled\"\r\n        >\r\n          <plus-icon class=\"icon is-small\" />\r\n          {{ $t('playlists.new_playlist') }}\r\n        </button>\r\n\r\n        <div\r\n          class=\"playlists\"\r\n          v-if=\"!loading.playlists\"\r\n        >\r\n          <router-link\r\n            :key=\"playlist.id\"\r\n            :to=\"getPlaylistPath(playlist.id)\"\r\n            :class=\"{\r\n              'playlist-item': true,\r\n              'for-client': playlist.for_client || false,\r\n              selected: playlist.id === currentPlaylist.id\r\n            }\"\r\n            v-for=\"playlist in sortedPlaylists\"\r\n          >\r\n            <div v-if=\"!isListToggled\">\r\n            <span>\r\n              {{ playlist.name }}\r\n            </span>\r\n            <span class=\"playlist-date\" title=\"last modified\">\r\n              {{ $t('playlists.updated_at') }}\r\n              {{ formatDate(playlist.updated_at) }}\r\n            </span>\r\n            </div>\r\n            <div class=\"has-text-centered\" v-else>\r\n              <light-entity-thumbnail\r\n                :preview-file-id=\"playlist.first_preview_file_id\"\r\n                type=\"previews\"\r\n                width=\"auto\"\r\n                height=\"auto\"\r\n                max-width=\"40px\"\r\n                max-height=\"30px\"\r\n                empty-height=\"30px\"\r\n                :title=\"playlist.name\"\r\n              />\r\n            </div>\r\n          </router-link>\r\n        </div>\r\n        <spinner\r\n          class=\"mt2\"\r\n          v-else\r\n        />\r\n        <error-text\r\n          text=\"$t('playlists.loading_error')\"\r\n          v-if=\"errors.playlistLoading\"\r\n        />\r\n      </div>\r\n\r\n      <div\r\n        class=\"playlist-column no-selection\"\r\n        v-if=\"playlists.length > 0 && !currentPlaylist.id && !loading.playlist\"\r\n      >\r\n        <h2>{{ $t('playlists.last_creation') }}</h2>\r\n        <div class=\"flexrow\" v-if=\"!loading.playlists && !loading.playlistsInit\">\r\n          <router-link\r\n            class=\"recent-playlist flexrow-item\"\r\n            :key=\"'recent-playlist-' + playlist.id\"\r\n            :to=\"getPlaylistPath(playlist.id)\"\r\n            v-for=\"playlist in lastPlaylistsCreated\"\r\n          >\r\n            <div class=\"has-text-centered\">\r\n              <light-entity-thumbnail\r\n                :preview-file-id=\"playlist.first_preview_file_id\"\r\n                type=\"previews\"\r\n                width=\"auto\"\r\n                height=\"auto\"\r\n                max-width=\"300px\"\r\n                max-height=\"150px\"\r\n                empty-height=\"150px\"\r\n              />\r\n            </div>\r\n            <h3>{{ playlist.name }}</h3>\r\n            <span>\r\n              {{ $t('playlists.created_at') }}\r\n              {{ formatDate(playlist.created_at) }}\r\n            </span>\r\n          </router-link>\r\n        </div>\r\n        <spinner class=\"mt2\" v-else />\r\n\r\n        <h2>{{ $t('playlists.last_modification') }}</h2>\r\n        <div class=\"flexrow\" v-if=\"!loading.playlists\">\r\n          <router-link\r\n            class=\"recent-playlist flexrow-item\"\r\n            :key=\"'recent-modified-playlist-' + playlist.id\"\r\n            :to=\"getPlaylistPath(playlist.id)\"\r\n            v-for=\"playlist in lastPlaylistsUpdated\"\r\n          >\r\n            <div class=\"has-text-centered\">\r\n              <light-entity-thumbnail\r\n                :preview-file-id=\"playlist.first_preview_file_id\"\r\n                type=\"previews\"\r\n                width=\"auto\"\r\n                height=\"auto\"\r\n                max-width=\"300px\"\r\n                max-height=\"150px\"\r\n                empty-height=\"150px\"\r\n              />\r\n            </div>\r\n            <h3>{{ playlist.name }}</h3>\r\n            <span>\r\n              {{ $t('playlists.updated_at') }}\r\n              {{ formatDate(playlist.updated_at) }}\r\n            </span>\r\n          </router-link>\r\n        </div>\r\n        <spinner class=\"mt2\" v-else />\r\n      </div>\r\n      <div\r\n        class=\"playlist-column no-selection has-text-centered\"\r\n        v-else-if=\"playlists.length === 0\"\r\n      >\r\n        <div v-if=\"!loading.playlists && !loading.playlistsInit\">\r\n          <p class=\"empty-explaination\">\r\n            {{ $t('playlists.no_playlist') }}\r\n          </p>\r\n          <button\r\n            :class=\"{\r\n              big: true,\r\n              button: true,\r\n              'is-loading': loading.addPlaylist\r\n            }\"\r\n            @click=\"showAddModal\"\r\n            key=\"new-playlist-button\"\r\n            v-if=\"isCurrentUserManager\"\r\n          >\r\n            {{ $t('playlists.new_playlist') }}\r\n          </button>\r\n        </div>\r\n        <spinner class=\"mt2\" v-else />\r\n      </div>\r\n\r\n      <div class=\"playlist-column column\" v-else>\r\n        <playlist-player\r\n          ref=\"playlist-player\"\r\n          :playlist=\"currentPlaylist\"\r\n          :entities=\"currentEntities\"\r\n          :is-loading=\"loading.playlist\"\r\n          :is-adding-entity=\"isAddingEntity\"\r\n          :is-asset-playlist=\"isAssetPlaylist\"\r\n          @edit-clicked=\"showEditModal\"\r\n          @show-add-entities=\"toggleAddEntities\"\r\n          @preview-changed=\"onPreviewChanged\"\r\n          @task-type-changed=\"onTaskTypeChanged\"\r\n          @playlist-deleted=\"$router.push(playlistsPath)\"\r\n          @remove-entity=\"removeEntity\"\r\n          @order-change=\"onOrderChange\"\r\n          @annotationchanged=\"onAnnotationChanged\"\r\n          @for-client-changed=\"onForClientChanged\"\r\n        />\r\n\r\n        <div\r\n          v-if=\"isCurrentUserManager && isAddingEntity && !loading.playlist\"\r\n        >\r\n          <div class=\"addition-header\">\r\n            <div class=\"flexrow\">\r\n              <page-subtitle\r\n                class=\"flexrow-item\"\r\n                :text=\"addEntitiesText\"\r\n              />\r\n              <span class=\"filler\"></span>\r\n              <a\r\n                class=\"close-button\"\r\n                @click=\"toggleAddEntities\"\r\n              >\r\n                <x-icon />\r\n              </a>\r\n            </div>\r\n            <div class=\"flexrow\">\r\n              <search-field\r\n                class=\"flexrow-item\"\r\n                ref=\"search-field\"\r\n                :can-save=\"false\"\r\n                @change=\"onSearchChange\"\r\n                :placeholder=\"isAssetPlaylist ? 'chars mode=wfa' : 'ex: seq01 anim=wfa'\"\r\n              />\r\n              <button-simple\r\n                class=\"flexrow-item\"\r\n                :title=\"$t('entities.build_filter.title')\"\r\n                icon=\"funnel\"\r\n                @click=\"modals.isBuildFilterDisplayed = true\"\r\n              />\r\n              <button\r\n                :class=\"{\r\n                  button: true,\r\n                  'flexrow-item': true,\r\n                  'add-sequence': true\r\n                }\"\r\n                :disabled=\"isAdditionLoading\"\r\n                @click=\"addCurrentSelection\"\r\n                v-if=\"isAddSearchVisible\"\r\n              >\r\n                {{ $t('playlists.add_selection') }}\r\n              </button>\r\n              <span class=\"filler\"></span>\r\n              <button\r\n                :class=\"{\r\n                  button: true,\r\n                  'add-sequence': true,\r\n                  'is-loading': this.loading.addDaily\r\n                }\"\r\n                :disabled=\"isAdditionLoading\"\r\n                @click=\"addDailyPending\"\r\n                v-if=\"!isAssetPlaylist\"\r\n              >\r\n                {{ $t('playlists.build_daily') }}\r\n              </button>\r\n              <button\r\n                :class=\"{\r\n                  button: true,\r\n                  'add-sequence': true,\r\n                  'is-loading': this.loading.addEpisode\r\n                }\"\r\n                :disabled=\"isAdditionLoading\"\r\n                @click=\"addEpisodePending\"\r\n                v-if=\"isTVShow && !isAssetPlaylist\"\r\n              >\r\n                {{ $t('playlists.add_episode') }}\r\n              </button>\r\n              <button\r\n                :class=\"{\r\n                  button: true,\r\n                  'add-sequence': true,\r\n                  'is-loading': this.loading.addMovie\r\n                }\"\r\n                :disabled=\"isAdditionLoading\"\r\n                @click=\"addMovie\"\r\n                v-else-if=\"!isAssetPlaylist\"\r\n              >\r\n                {{ $t('playlists.add_movie') }}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          class=\"addition-section\"\r\n          v-if=\"isCurrentUserManager && isAddingEntity\"\r\n          v-scroll=\"onBodyScroll\"\r\n        >\r\n          <spinner\r\n            class=\"mt2\"\r\n            key=\"entity-loader\"\r\n            v-if=\"isShotsLoading || isAssetsLoading\"\r\n          />\r\n          <div\r\n            ref=\"entityListContent\"\r\n            v-else\r\n          >\r\n            <div v-if=\"isAssetPlaylist\">\r\n              <div\r\n                :key=\"'asset-type-' + i\"\r\n                v-for=\"(typeAssets, i) in displayedAssetsByType\"\r\n              >\r\n                <h2\r\n                  class=\"entity-group-title\"\r\n                  v-if=\"typeAssets.length > 0\"\r\n                >\r\n                  {{ typeAssets[0].asset_type_name }}\r\n                </h2>\r\n                <div\r\n                 class=\"addition-entities\"\r\n                >\r\n                  <div\r\n                    :class=\"{\r\n                      'addition-shot': true\r\n                    }\"\r\n                    :key=\"asset.id\"\r\n                    @click.prevent=\"addEntityToPlaylist(asset)\"\r\n                    v-for=\"asset in typeAssets.filter(a => !a.canceled)\"\r\n                  >\r\n                      <light-entity-thumbnail\r\n                        :preview-file-id=\"asset.preview_file_id\"\r\n                        width=\"150px\"\r\n                        height=\"100px\"\r\n                      />\r\n                    <span class=\"playlisted-shot-name\">{{ asset.name }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-else>\r\n              <div\r\n                :key=\"'sequence-' + i\"\r\n                v-for=\"(sequenceShots, i) in displayedShotsBySequence\"\r\n              >\r\n                <h2\r\n                  class=\"entity-group-title\"\r\n                  v-if=\"sequenceShots.length > 0\"\r\n                >\r\n                  {{ sequenceShots[0].sequence_name }}\r\n                  <button\r\n                    class=\"button\"\r\n                    @click=\"addSequence(sequenceShots)\"\r\n                    :key=\"'add-sequence-button-' + sequenceShots[0].sequence_id\"\r\n                    v-if=\"isCurrentUserManager\"\r\n                  >\r\n                    {{ $t('playlists.add_sequence') }}\r\n                  </button>\r\n                </h2>\r\n                <div\r\n                 class=\"addition-entities\"\r\n                >\r\n                  <div\r\n                    :class=\"{\r\n                      'addition-shot': true,\r\n                      playlisted: currentEntities[shot.id] !== undefined\r\n                    }\"\r\n                    :key=\"shot.id\"\r\n                    @click.prevent=\"addEntityToPlaylist(shot)\"\r\n                    v-for=\"shot in sequenceShots.filter(s => !s.canceled)\"\r\n                  >\r\n                      <light-entity-thumbnail\r\n                        :preview-file-id=\"shot.preview_file_id\"\r\n                        width=\"150px\"\r\n                        height=\"100px\"\r\n                      />\r\n                    <span class=\"playlisted-shot-name\">{{ shot.name }}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <edit-playlist-modal\r\n      ref=\"edit-playlist-modal\"\r\n      :active=\"modals.isEditDisplayed\"\r\n      :is-loading=\"loading.editPlaylist\"\r\n      :is-error=\"errors.editPlaylist\"\r\n      :playlist-to-edit=\"playlistToEdit\"\r\n      @cancel=\"hideEditModal\"\r\n      @confirm=\"confirmEditPlaylist\"\r\n    />\r\n\r\n    <build-filter-modal\r\n      ref=\"build-filter-modal\"\r\n      :active=\"modals.isBuildFilterDisplayed\"\r\n      :entity-type=\"isAssetPlaylist ? 'asset' : 'shot'\"\r\n      @confirm=\"confirmBuildFilter\"\r\n      @cancel=\"modals.isBuildFilterDisplayed = false\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport firstBy from 'thenby'\r\nimport moment from 'moment-timezone'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { PlusIcon, XIcon } from 'vue-feather-icons'\r\nimport { formatDate } from '@/lib/time'\r\nimport { getPlaylistPath } from '@/lib/path'\r\nimport {\r\n  updateModelFromList,\r\n  removeModelFromList\r\n} from '@/lib/models'\r\n\r\nimport ButtonSimple from '@/components/widgets/ButtonSimple'\r\nimport BuildFilterModal from '@/components/modals/BuildFilterModal'\r\nimport Combobox from '@/components/widgets/Combobox'\r\nimport EditPlaylistModal from '@/components/modals/EditPlaylistModal'\r\nimport ErrorText from '@/components/widgets/ErrorText'\r\nimport LightEntityThumbnail from '@/components/widgets/LightEntityThumbnail'\r\nimport PageSubtitle from '@/components/widgets/PageSubtitle'\r\nimport PlaylistPlayer from './playlists/PlaylistPlayer'\r\nimport SearchField from '@/components/widgets/SearchField'\r\nimport Spinner from '@/components/widgets/Spinner'\r\n\r\nexport default {\r\n  name: 'productions',\r\n\r\n  components: {\r\n    BuildFilterModal,\r\n    ButtonSimple,\r\n    Combobox,\r\n    ErrorText,\r\n    EditPlaylistModal,\r\n    LightEntityThumbnail,\r\n    PageSubtitle,\r\n    PlaylistPlayer,\r\n    PlusIcon,\r\n    SearchField,\r\n    Spinner,\r\n    XIcon\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      currentPlaylist: { name: '' },\r\n      currentSort: 'updated_at',\r\n      sortOptions: [\r\n        'updated_at',\r\n        'created_at',\r\n        'name'\r\n      ].map(name => ({ label: name, value: name })),\r\n      currentEntities: {},\r\n      isAddingEntity: false,\r\n      isListToggled: false,\r\n      sortedPlaylists: [],\r\n      playlistToEdit: {\r\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\r\n        for_client: false\r\n      },\r\n      modals: {\r\n        isBuildFilterDisplayed: false,\r\n        isDeleteDisplayed: false,\r\n        isEditDisplayed: false\r\n      },\r\n      loading: {\r\n        addPlaylist: false,\r\n        addDaily: false,\r\n        addEpisode: false,\r\n        addMovie: false,\r\n        addSequence: false,\r\n        addWeekly: false,\r\n        deletePlaylist: false,\r\n        editPlaylist: false,\r\n        playlist: false,\r\n        playlists: false,\r\n        playlistsInit: true\r\n      },\r\n      errors: {\r\n        addPlaylist: false,\r\n        editPlaylist: false,\r\n        deletePlaylist: false,\r\n        playlistLoading: false\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'assetMap',\r\n      'assetSearchText',\r\n      'currentEpisode',\r\n      'currentProduction',\r\n      'displayedAssets',\r\n      'displayedAssetsByType',\r\n      'displayedShots',\r\n      'displayedShotsBySequence',\r\n      'isAssetsLoading',\r\n      'isCurrentUserManager',\r\n      'isShotsLoading',\r\n      'isTVShow',\r\n      'playlistMap',\r\n      'playlists',\r\n      'playlistsPath',\r\n      'shotsByEpisode',\r\n      'shotSearchText',\r\n      'shotMap',\r\n      'taskTypeMap'\r\n    ]),\r\n\r\n    isAdditionLoading () {\r\n      return (\r\n        this.loading.addSequence ||\r\n        this.loading.addWeekly ||\r\n        this.loading.addDaily ||\r\n        this.loading.addEpisode\r\n      )\r\n    },\r\n\r\n    isAssetPlaylist () {\r\n      return this.currentPlaylist.for_entity === 'asset'\r\n    },\r\n\r\n    isAddSearchVisible () {\r\n      return (\r\n        (this.isAssetPlaylist && this.assetSearchText) ||\r\n        (!this.isAssetPlaylist && this.shotSearchText)\r\n      )\r\n    },\r\n\r\n    lastPlaylistsUpdated () {\r\n      return this.playlists\r\n        .concat()\r\n        .sort(firstBy('updated_at'))\r\n        .reverse()\r\n        .slice(0, 3)\r\n    },\r\n\r\n    lastPlaylistsCreated () {\r\n      return this.playlists.slice(0, 3)\r\n    },\r\n\r\n    playlistPlayer () {\r\n      return this.$refs['playlist-player']\r\n    },\r\n\r\n    addEntitiesText () {\r\n      if (this.isAssetPlaylist) {\r\n        return this.$t('playlists.add_assets')\r\n      } else {\r\n        return this.$t('playlists.add_shots')\r\n      }\r\n    },\r\n\r\n    tvShowPageTitle () {\r\n      const productionName =\r\n        this.currentProduction ? this.currentProduction.name : ''\r\n      let episodeName = ''\r\n      if (this.currentEpisode) {\r\n        episodeName = this.currentEpisode.name\r\n        if (this.currentEpisode.id === 'all') episodeName = this.$t('main.all')\r\n        if (this.currentEpisode.id === 'main') episodeName = 'Main Pack'\r\n      }\r\n      return `${productionName} - ${episodeName}` +\r\n             ` | ${this.$t('playlists.title')} - Kitsu`\r\n    },\r\n\r\n    shortPageTitle () {\r\n      const productionName =\r\n        this.currentProduction ? this.currentProduction.name : ''\r\n      return `${productionName} ${this.$t('playlists.title')} - Kitsu`\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      'addNewBuildJob',\r\n      'pushEntityToPlaylist',\r\n      'changePlaylistOrder',\r\n      'changePlaylistPreview',\r\n      'changePlaylistType',\r\n      'displayMoreAssets',\r\n      'displayMoreShots',\r\n      'editPlaylist',\r\n      'getPending',\r\n      'loadPlaylist',\r\n      'loadPlaylists',\r\n      'loadEntityPreviewFiles',\r\n      'loadShots',\r\n      'loadAssets',\r\n      'markBuildJobAsDone',\r\n      'newPlaylist',\r\n      'refreshPlaylist',\r\n      'removeEntityPreviewFromPlaylist',\r\n      'removeBuildJobFromList',\r\n      'setAssetSearch',\r\n      'setCurrentEpisode',\r\n      'setShotSearch',\r\n      'updatePreviewAnnotation'\r\n    ]),\r\n\r\n    // Helpers\r\n\r\n    formatDate (dateString) {\r\n      return formatDate(dateString)\r\n    },\r\n\r\n    getPlaylistPath (playlistId, section) {\r\n      return getPlaylistPath(\r\n        this.currentProduction.id,\r\n        this.currentEpisode ? this.currentEpisode.id : null,\r\n        playlistId,\r\n        section\r\n      )\r\n    },\r\n\r\n    // Data loading\r\n\r\n    loadShotsData (callback) {\r\n      if (\r\n        this.displayedShots.length === 0 ||\r\n        this.displayedShots[0].project_id !== this.currentProduction.id ||\r\n        (\r\n          this.currentEpisode &&\r\n          this.displayedShots[0].episode_id !== this.currentEpisode.id\r\n        )\r\n      ) {\r\n        if (this.isTVShow &&\r\n            this.currentEpisode &&\r\n            (this.currentEpisode.id === 'main' ||\r\n            this.currentEpisode.id === 'all')) {\r\n          callback()\r\n        } else {\r\n          this.loadShots(callback)\r\n        }\r\n      } else {\r\n        callback()\r\n      }\r\n    },\r\n\r\n    loadAssetsData (callback) {\r\n      if (this.isTVShow || this.displayedAssets.length === 0) {\r\n        return this.loadAssets()\r\n      } else {\r\n        return Promise.resolve()\r\n      }\r\n    },\r\n\r\n    loadPlaylistsData (callback) {\r\n      const setFirstPlaylist = () => {\r\n        this.setCurrentPlaylist(() => {\r\n          if (!this.currentPlaylist || !this.currentPlaylist.id) {\r\n            this.goFirstPlaylist()\r\n          }\r\n        })\r\n      }\r\n      if (this.playlists.length === 0) {\r\n        this.loadPlaylists((err) => {\r\n          if (err) this.errors.loadPlaylists = true\r\n          if (!err) setFirstPlaylist()\r\n          if (callback) callback()\r\n        })\r\n      } else {\r\n        setFirstPlaylist()\r\n        if (callback) callback()\r\n      }\r\n    },\r\n\r\n    // Playlist build\r\n\r\n    rebuildCurrentEntities () {\r\n      this.currentEntities = {}\r\n      const tmpEntities = {}\r\n      if (this.currentPlaylist && this.currentPlaylist.shots) {\r\n        this.currentPlaylist.shots.forEach((entity) => {\r\n          const playlistEntity = this.convertEntityToPlaylistFormat(entity)\r\n          if (playlistEntity) tmpEntities[playlistEntity.id] = playlistEntity\r\n        })\r\n      }\r\n      this.$nextTick(() => {\r\n        this.currentEntities = tmpEntities\r\n      })\r\n    },\r\n\r\n    convertEntityToPlaylistFormat (entityInfo) {\r\n      let entity\r\n      if (this.isAssetPlaylist) {\r\n        entity = this.assetMap[entityInfo.id]\r\n      } else {\r\n        entity = this.shotMap[entityInfo.id]\r\n      }\r\n      if (entity) {\r\n        const playlistEntity = {\r\n          id: entityInfo.id,\r\n          name: entity.name,\r\n          parent_name: entity.sequence_name || entity.asset_type_name,\r\n          preview_files: entityInfo.preview_files,\r\n          preview_file_id:\r\n            entityInfo.preview_file_id ||\r\n            entity.preview_file_id,\r\n          preview_file_extension:\r\n            entityInfo.preview_file_extension ||\r\n            entity.preview_file_extension,\r\n          preview_file_task_id:\r\n            entityInfo.task_id ||\r\n            entityInfo.preview_file_task_id ||\r\n            entity.preview_file_task_id,\r\n          preview_file_annotations:\r\n            entityInfo.preview_file_annotations ||\r\n            entity.preview_file_annotations,\r\n          preview_file_previews:\r\n            entityInfo.preview_file_previews ||\r\n            entity.preview_file_previews\r\n        }\r\n        return playlistEntity\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n\r\n    setCurrentPlaylist (callback) {\r\n      const playlistId = this.$route.params.playlist_id\r\n      const playlist = this.playlistMap[playlistId]\r\n      if (playlist) {\r\n        this.loading.playlist = true\r\n        this.loadPlaylist({\r\n          playlist,\r\n          callback: (err, playlist) => {\r\n            if (err) console.error(err)\r\n            this.currentPlaylist = playlist\r\n            this.rebuildCurrentEntities()\r\n            this.loading.playlist = false\r\n            if (callback) callback()\r\n          }\r\n        })\r\n      } else {\r\n        this.currentPlaylist = {\r\n          name: ''\r\n        }\r\n        this.currentShots = {}\r\n      }\r\n    },\r\n\r\n    addEntity (entity) {\r\n      return this.loadEntityPreviewFiles(entity)\r\n        .then(previewFiles => {\r\n          return this.addToStorePlaylistAndSave(previewFiles, entity)\r\n        })\r\n        .then(this.addToPlayerPlaylist)\r\n        .catch((err) => console.error(err))\r\n    },\r\n\r\n    addToStorePlaylistAndSave (previewFiles, entity) {\r\n      return this.pushEntityToPlaylist({\r\n        playlist: this.currentPlaylist,\r\n        previewFiles: previewFiles,\r\n        entity: { ...entity }\r\n      })\r\n    },\r\n\r\n    addToPlayerPlaylist (entity) {\r\n      const playlistEntity = this.convertEntityToPlaylistFormat(entity)\r\n      this.currentEntities[playlistEntity.id] = playlistEntity\r\n      this.playlistPlayer.entityList.push(playlistEntity)\r\n      this.$nextTick(() => {\r\n        this.playlistPlayer.scrollToRight()\r\n      })\r\n    },\r\n\r\n    addEntityToPlaylist (entity) {\r\n      if (!this.currentEntities[entity.id]) {\r\n        this.addEntity(entity)\r\n          .then(this.playlistPlayer.scrollToRight())\r\n      }\r\n    },\r\n\r\n    removeEntity (entity) {\r\n      this.removeEntityPreviewFromPlaylist({\r\n        playlist: this.currentPlaylist,\r\n        entity,\r\n        callback: () => {\r\n          delete this.currentEntities[entity.id]\r\n        }\r\n      })\r\n    },\r\n\r\n    clearCurrentPlaylist () {\r\n      this.currentPlaylist = {}\r\n      this.currentShots = {}\r\n    },\r\n\r\n    resetPlaylist () {\r\n      this.clearCurrentPlaylist()\r\n      this.setCurrentPlaylist()\r\n    },\r\n\r\n    // Addition Helpers\r\n\r\n    addCurrentSelection () {\r\n      this.$options.silent = true\r\n      const entities =\r\n        this.isAssetPlaylist ? this.displayedAssets : this.displayedShots\r\n      this.addEntities([...entities].reverse(), () => {\r\n        this.$options.silent = false\r\n      })\r\n    },\r\n\r\n    addSequence (sequenceShots) {\r\n      if (sequenceShots.length > 0) {\r\n        const sequenceId = sequenceShots[0].sequence_id\r\n        const shots = Object.values(this.shotMap)\r\n          .filter(s => s.sequence_id === sequenceId)\r\n          .sort(firstBy('name'))\r\n          .reverse()\r\n        this.$options.silent = true\r\n        this.addEntities(shots, () => {\r\n          this.$options.silent = false\r\n        })\r\n      }\r\n    },\r\n\r\n    addAllPending () {\r\n      this.$options.silent = true\r\n      this.loading.addWeekly = true\r\n      this.getPending(false)\r\n        .then((shots) => {\r\n          this.addEntities(shots.reverse(), () => {\r\n            this.loading.addWeekly = false\r\n            this.$options.silent = false\r\n          })\r\n        })\r\n    },\r\n\r\n    addDailyPending () {\r\n      this.loading.addDaily = true\r\n      this.$options.silent = true\r\n      this.getPending(true)\r\n        .then((shots) => {\r\n          this.addEntities(shots.reverse(), () => {\r\n            this.loading.addDaily = false\r\n            this.$options.silent = false\r\n          })\r\n        })\r\n    },\r\n\r\n    addEpisodePending () {\r\n      this.loading.addEpisode = true\r\n      this.$options.silent = true\r\n      const shots = [].concat(...this.shotsByEpisode).reverse()\r\n      this.addEntities(shots, () => {\r\n        this.loading.addEpisode = false\r\n        this.$options.silent = false\r\n      })\r\n    },\r\n\r\n    addMovie () {\r\n      this.loading.addMovie = true\r\n      this.$options.silent = true\r\n      const shots = Object.values(this.shotMap)\r\n      this.addEntities(shots.reverse(), () => {\r\n        this.loading.addMovie = false\r\n        this.$options.silent = false\r\n      })\r\n    },\r\n\r\n    addEntities (entities, callback) {\r\n      if (entities && entities.length > 0) {\r\n        const entity = entities.pop()\r\n        this.addEntity(entity)\r\n          .then(() => {\r\n            this.addEntities(entities, callback)\r\n          })\r\n      } else {\r\n        callback()\r\n      }\r\n    },\r\n\r\n    // Save data\r\n\r\n    onPreviewChanged (entity, previewFileId) {\r\n      this.changePlaylistPreview({\r\n        playlist: this.currentPlaylist,\r\n        entity,\r\n        previewFileId\r\n      })\r\n    },\r\n\r\n    onOrderChange (info) {\r\n      this.changePlaylistOrder({\r\n        playlist: this.currentPlaylist,\r\n        info\r\n      })\r\n    },\r\n\r\n    onAnnotationChanged ({ preview, annotations }) {\r\n      const taskId = preview.task_id\r\n      this.updatePreviewAnnotation({ taskId, preview, annotations })\r\n    },\r\n\r\n    // Search\r\n\r\n    confirmBuildFilter (query) {\r\n      this.modals.isBuildFilterDisplayed = false\r\n      this.$refs['search-field'].setValue(query)\r\n      this.onSearchChange(query)\r\n    },\r\n\r\n    onSearchChange (searchQuery) {\r\n      if (searchQuery.length > 1) {\r\n        if (this.isAssetPlaylist) {\r\n          this.setAssetSearch(searchQuery)\r\n          this.displayMoreAssets()\r\n        } else {\r\n          this.setShotSearch(searchQuery)\r\n          this.displayMoreShots()\r\n        }\r\n      } else {\r\n        if (this.isAssetPlaylist) {\r\n          this.setAssetSearch('')\r\n        } else {\r\n          this.setShotSearch('')\r\n        }\r\n      }\r\n    },\r\n\r\n    // Playlist list\r\n\r\n    onForClientChanged (forClient) {\r\n      this.editPlaylist({\r\n        data: {\r\n          id: this.currentPlaylist.id,\r\n          for_client: forClient\r\n        }\r\n      })\r\n    },\r\n\r\n    runAddPlaylist (form) {\r\n      const newPlaylist = {\r\n        name: form.name,\r\n        production_id: this.currentProduction.id,\r\n        for_client: form.for_client,\r\n        for_entity: form.for_entity,\r\n        is_for_all: form.is_for_all\r\n      }\r\n      if (this.isTVShow && this.currentEpisode) {\r\n        newPlaylist.episode_id = this.currentEpisode.id\r\n      }\r\n      this.loading.editPlaylist = true\r\n      this.errors.editPlaylist = false\r\n      this.newPlaylist(newPlaylist)\r\n        .then((playlist) => {\r\n          this.$router.push(this.getPlaylistPath(playlist.id))\r\n          this.loading.editPlaylist = false\r\n          this.modals.isEditDisplayed = false\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.errors.editPlaylist = true\r\n          this.loading.editPlaylist = false\r\n        })\r\n    },\r\n\r\n    confirmEditPlaylist (form) {\r\n      if (this.playlistToEdit.id) {\r\n        form.id = this.currentPlaylist.id\r\n        this.runEditPlaylist(form)\r\n      } else {\r\n        this.runAddPlaylist(form)\r\n      }\r\n    },\r\n\r\n    runEditPlaylist (form) {\r\n      this.loading.editPlaylist = true\r\n      this.errors.editPlaylist = false\r\n      this.editPlaylist({\r\n        data: {\r\n          id: form.id,\r\n          for_client: form.for_client,\r\n          for_entity: form.for_entity,\r\n          name: form.name\r\n        },\r\n        callback: (err, playlist) => {\r\n          if (err) this.errors.editPlaylist = true\r\n          this.loading.editPlaylist = false\r\n          this.modals.isEditDisplayed = false\r\n          Object.assign(this.currentPlaylist, playlist)\r\n        }\r\n      })\r\n    },\r\n\r\n    goFirstPlaylist () {\r\n      if (this.playlists.length > 0) {\r\n        this.$router.push({\r\n          name: 'playlist',\r\n          params: {\r\n            production_id: this.currentProduction.id,\r\n            playlist_id: this.playlists[0].id\r\n          }\r\n        })\r\n      } else {\r\n        this.$router.push(this.playlistsPath)\r\n      }\r\n    },\r\n\r\n    // Changes\r\n\r\n    toggleAddEntities () {\r\n      if (this.isAddingEntity) {\r\n        this.resetPlaylist()\r\n      }\r\n      this.isAddingEntity = !this.isAddingEntity\r\n    },\r\n\r\n    onTaskTypeChanged (taskTypeId) {\r\n      this.changePlaylistType({\r\n        playlist: this.currentPlaylist,\r\n        taskTypeId,\r\n        callback: () => {\r\n          this.rebuildCurrentEntities()\r\n        }\r\n      })\r\n    },\r\n\r\n    onBodyScroll (event, position) {\r\n      const maxHeight =\r\n        this.$refs.entityListContent.scrollHeight -\r\n        this.$refs.entityListContent.offsetHeight\r\n      if (maxHeight < position.scrollTop) {\r\n        if (this.isAssetPlaylist) {\r\n          this.displayMoreAssets()\r\n        } else {\r\n          this.displayMoreShots()\r\n        }\r\n      }\r\n    },\r\n\r\n    resetSorting () {\r\n      let order = 1\r\n      if (['created_at', 'updated_at'].includes(this.currentSort)) {\r\n        order = -1\r\n      }\r\n      this.sortedPlaylists = [...this.playlists]\r\n        .sort(\r\n          firstBy(this.currentSort, order)\r\n            .thenBy('name')\r\n        )\r\n    },\r\n\r\n    // Modals\r\n\r\n    showAddModal () {\r\n      this.playlistToEdit = {\r\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\r\n        for_client: false\r\n      }\r\n      this.$refs['edit-playlist-modal'] = true\r\n      this.modals.isEditDisplayed = true\r\n    },\r\n\r\n    showEditModal () {\r\n      this.playlistToEdit = this.currentPlaylist\r\n      this.modals.isEditDisplayed = true\r\n    },\r\n\r\n    hideEditModal () {\r\n      this.playlistToEdit = {\r\n        name: `${moment().format('YYYY-MM-DD HH:mm:ss')}`,\r\n        for_client: false\r\n      }\r\n      this.modals.isEditDisplayed = false\r\n    },\r\n\r\n    // Loading\r\n\r\n    reloadAll () {\r\n      if (!this.loading.playlists) {\r\n        this.loading.playlists = true\r\n        this.loadShotsData(() => {\r\n          this.loadAssetsData()\r\n            .then(() => {\r\n              this.loadPlaylistsData(() => {\r\n                this.loading.playlists = false\r\n                this.resetPlaylist()\r\n                setTimeout(() => {\r\n                  this.loading.playlistsInit = false\r\n                }, 300)\r\n              })\r\n            })\r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    // Next tick needed to ensure that current production is properly set.\r\n    this.$nextTick(() => {\r\n      this.reloadAll()\r\n      if (localStorage.getItem('playlist-sort')) {\r\n        this.currentSort = localStorage.getItem('playlist-sort')\r\n      }\r\n      this.resetSorting()\r\n    })\r\n  },\r\n\r\n  watch: {\r\n    $route () {\r\n      this.setCurrentPlaylist()\r\n    },\r\n\r\n    currentPlaylist () {\r\n      if (this.currentPlaylist.shots) {\r\n        this.isAddingEntity =\r\n          Object.keys(this.currentPlaylist.shots).length === 0\r\n      } else {\r\n        this.isAddingEntity = true\r\n      }\r\n    },\r\n\r\n    currentProduction () {\r\n      this.$store.commit('LOAD_PLAYLISTS_END', [])\r\n      this.reloadAll()\r\n    },\r\n\r\n    currentEpisode () {\r\n      this.$store.commit('LOAD_PLAYLISTS_END', [])\r\n      if (this.currentEpisode) {\r\n        this.reloadAll()\r\n      }\r\n    },\r\n\r\n    playlists () {\r\n      this.resetSorting()\r\n    },\r\n\r\n    currentSort () {\r\n      localStorage.setItem('playlist-sort', this.currentSort)\r\n      this.resetSorting()\r\n    }\r\n  },\r\n\r\n  socket: {\r\n    events: {\r\n      'playlist:new' (eventData) {\r\n        if (!this.playlistMap[eventData.playlist_id]) {\r\n          this.refreshPlaylist(eventData.playlist_id)\r\n        }\r\n      },\r\n\r\n      'playlist:update' (eventData) {\r\n      },\r\n\r\n      'playlist:delete' (eventData) {\r\n        this.$store.commit('DELETE_PLAYLIST_END', {\r\n          id: eventData.playlist_id\r\n        })\r\n      },\r\n\r\n      'build-job:new' (eventData) {\r\n        if (eventData.playlist_id === this.currentPlaylist.id) {\r\n          this.currentPlaylist.build_jobs = [{\r\n            id: eventData.build_job_id,\r\n            created_at: eventData.created_at,\r\n            status: 'running',\r\n            playlist_id: this.currentPlaylist.id\r\n          }].concat(this.currentPlaylist.build_jobs)\r\n        }\r\n      },\r\n\r\n      'build-job:update' (eventData) {\r\n        if (eventData.playlist_id === this.currentPlaylist.id) {\r\n          updateModelFromList(this.currentPlaylist.build_jobs, {\r\n            id: eventData.build_job_id,\r\n            status: eventData.status\r\n          })\r\n        }\r\n      },\r\n\r\n      'build-job:delete' (eventData) {\r\n        if (eventData.playlist_id === this.currentPlaylist.id) {\r\n          this.currentPlaylist.build_jobs =\r\n            removeModelFromList(this.currentPlaylist.build_jobs, {\r\n              id: eventData.build_job_id\r\n            })\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  metaInfo () {\r\n    if (this.isTVShow) {\r\n      return { title: this.tvShowPageTitle }\r\n    } else {\r\n      return { title: this.shortPageTitle }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dark {\r\n  .playlist-item {\r\n    background: $dark-grey-lightmore;\r\n    box-shadow: 0px 0px 6px #333;\r\n    border-color: $dark-grey;\r\n    color: $white-grey;\r\n\r\n    &.for-client {\r\n      background: $purple-grey;\r\n      border: 1px solid $dark-grey;\r\n    }\r\n\r\n    &.selected {\r\n      border-right: 3px solid $dark-green;\r\n    }\r\n  }\r\n\r\n  .playlist-list-column {\r\n    background: $dark-grey-light;\r\n    border-color: $dark-grey;\r\n    box-shadow: 0px 0px 6px #333;\r\n  }\r\n\r\n  .playlist-column {\r\n    button,\r\n    h2.entity-group-title {\r\n      color: white;\r\n    }\r\n  }\r\n\r\n  .playlist-column.no-selection {\r\n    background: $dark-grey-light;\r\n\r\n    h2 {\r\n      color: white;\r\n    }\r\n\r\n    .recent-playlist {\r\n      background: $dark-grey-lightmore;\r\n      border: 2px solid $dark-grey;\r\n      box-shadow: 0px 0px 6px #333;\r\n\r\n      h3 {\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n\r\n  span.thumbnail-picture {\r\n    box-shadow: 0px 0px 6px #333;\r\n  }\r\n}\r\n\r\n.page {\r\n  display: flex;\r\n  padding-left: 0;\r\n  padding-right: 0;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.page .columns {\r\n  margin-top: 0px;\r\n  margin-bottom: 0;\r\n  overflow-y: auto;\r\n  flex: 1;\r\n}\r\n\r\n.playlist-list-column {\r\n  max-width: 300px;\r\n  background: #F4F5F9;\r\n  overflow-y: auto;\r\n  padding: 1em 1em 1em 2em;\r\n  border-right: 1px solid #DDD;\r\n  box-shadow: 0px 0px 6px #F0F0F0;\r\n  z-index: 201;\r\n}\r\n\r\n.playlist-item {\r\n  display: block;\r\n  background: white;\r\n  padding: 0.4em;\r\n  margin: 0.2em;\r\n  border: 1px solid $white-grey;\r\n  box-shadow: 0px 0px 6px #DDD;\r\n  color: $grey-strong;\r\n\r\n  &.for-client {\r\n    background: $light-purple;\r\n    border: 1px solid $purple;\r\n  }\r\n}\r\n\r\n.playlist-item.selected {\r\n  border-right: 3px solid $light-green;\r\n}\r\n\r\n.playlist-list-column .button {\r\n  width: 100%;\r\n}\r\n\r\n.addition-entities {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: flex-start;\r\n  flex-direction: row;\r\n  max-width: 100%;\r\n  padding-left: 1em;\r\n}\r\n\r\n.addition-shot {\r\n  padding: 0;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  margin: 0;\r\n  opacity: 0.5;\r\n  width: 170px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: 0px solid transparent;\r\n\r\n  a {\r\n    margin: auto;\r\n  }\r\n\r\n  &:hover {\r\n    opacity: 0.75\r\n  }\r\n\r\n  &.playlisted {\r\n    opacity: 1;\r\n\r\n    img,\r\n    span.thumbnail-picture {\r\n      border: 2px solid $purple;\r\n    }\r\n  }\r\n}\r\n\r\nspan.thumbnail-picture {\r\n  box-shadow: 0px 0px 6px #DDD;\r\n  margin-bottom: 2px;\r\n}\r\n\r\n.addition-header {\r\n  padding: 0 1em;\r\n\r\n  .subtitle {\r\n    margin-top: 1em;\r\n  }\r\n}\r\n\r\n.add-sequence {\r\n  margin-bottom: 0.4em;\r\n}\r\n\r\n.playlist-column {\r\n  padding: 0;\r\n  overflow: hidden;\r\n  flex: 1;\r\n}\r\n\r\n.playlisted-shot-name {\r\n  padding-right: 20px;\r\n}\r\n\r\n.playlist-date {\r\n  display: block;\r\n  color: $grey;\r\n  font-size: 0.8em;\r\n}\r\n\r\n.entity-group-title {\r\n  border-bottom: 1px solid $light-grey-light;\r\n  color: $grey;\r\n  margin: 1em;\r\n  padding-bottom: 0.2em;\r\n  text-transform: uppercase;\r\n\r\n  button {\r\n    color: $grey;\r\n    padding: 0.3em 0.8em;\r\n    font-size: 0.7em;\r\n  }\r\n}\r\n\r\n.addition-header {\r\n  background: var(--background);\r\n  height: 110px;\r\n}\r\n\r\n.addition-section {\r\n  background: var(--background);\r\n  overflow-y: auto;\r\n  height: calc(100% - 420px);\r\n}\r\n\r\nh2 {\r\n  font-weight: bold;\r\n  text-transform: uppercase;\r\n  color: $grey;\r\n}\r\n\r\n.toggled {\r\n  padding: 1em 0.1em;\r\n  max-width: 50px;\r\n\r\n  .flexrow {\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-bottom: 1em;\r\n  }\r\n\r\n  .playlist-item {\r\n    padding: 0;\r\n  }\r\n}\r\n\r\n.playlist-column.no-selection {\r\n  padding: 2em;\r\n  overflow: auto;\r\n  background: #F4F5F9;\r\n\r\n  h2 {\r\n    font-size: 2em;\r\n    margin-top: 1.5em;\r\n    margin-bottom: 0.3em;\r\n  }\r\n\r\n  .recent-playlist {\r\n    width: 333px;\r\n    height: 250px;\r\n    background: white;\r\n    border: 2px solid $light-grey-light;\r\n    box-shadow: 0px 0px 6px #DDD;\r\n    border-radius: 1em;\r\n    padding: 1em;\r\n\r\n    h3 {\r\n      color: $grey-strong;\r\n      font-size: 1.2em;\r\n      font-weight: bold;\r\n    }\r\n    span {\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  .empty-explaination {\r\n    margin-top: 4em;\r\n    font-size: 1.5em;\r\n  }\r\n\r\n  .big {\r\n    font-size: 1.2em;\r\n    margin-top: 1em;\r\n    padding: 0.5em 1em;\r\n    height: auto;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Playlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Playlist.vue?vue&type=template&id=552bbeda&scoped=true&\"\nimport script from \"./Playlist.vue?vue&type=script&lang=js&\"\nexport * from \"./Playlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Playlist.vue?vue&type=style&index=0&id=552bbeda&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"552bbeda\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}