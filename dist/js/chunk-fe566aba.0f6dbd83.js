(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fe566aba"],{"021e":function(t,e,s){"use strict";s("8a6b")},"099d":function(t,e,s){"use strict";s("4661")},"459c":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"level page-header"},[s("div",{staticClass:"level-left"},[s("page-title",{attrs:{text:t.title}})],1),s("div",{staticClass:"level-right"},[s("button-simple",{staticClass:"level-item",attrs:{icon:"plus",text:t.newEntryLabel},on:{click:function(e){return t.$emit("new-clicked")}}})],1)])},i=[],o=s("5530"),l=s("2f62"),n=s("de40"),r=s("8d07"),c={name:"list-page-header",components:{ButtonSimple:n["a"],PageTitle:r["a"]},props:{title:{type:String,default:""},newEntryLabel:{type:String,default:""}},computed:Object(o["a"])({},Object(l["c"])([])),methods:Object(o["a"])({},Object(l["b"])([])),watch:{}},d=c,u=s("2877"),f=Object(u["a"])(d,a,i,!1,null,"bf4864ae",null);e["a"]=f.exports},4661:function(t,e,s){},"61a3":function(t,e,s){},"8a6b":function(t,e,s){},"9f1e":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-status page fixed-page"},[s("list-page-header",{attrs:{title:t.$t("task_status.title"),"new-entry-label":t.$t("task_status.new_task_status")},on:{"new-clicked":t.onNewClicked}}),s("task-status-list",{attrs:{entries:t.taskStatus,"is-loading":t.loading.list,"is-error":t.errors.list},on:{"edit-clicked":t.onEditClicked,"delete-clicked":t.onDeleteClicked}}),s("edit-task-status-modal",{attrs:{active:t.modals.edit,"is-loading":t.loading.edit,"is-error":t.errors.edit,"task-status-to-edit":t.taskStatusToEdit},on:{cancel:function(e){t.modals.edit=!1},confirm:t.confirmEditTaskStatus}}),s("delete-modal",{attrs:{active:t.modals.del,"is-loading":t.loading.del,"is-error":t.errors.del,text:t.deleteText(),"error-text":t.$t("task_status.delete_error")},on:{cancel:function(e){t.modals.del=!1},confirm:t.confirmDeleteTaskStatus}})],1)},i=[],o=(s("b0c0"),s("5530")),l=s("2f62"),n=s("5f48"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:{modal:!0,"is-active":t.active}},[s("div",{staticClass:"modal-background",on:{click:function(e){return t.$emit("cancel")}}}),s("div",{staticClass:"modal-content"},[s("div",{staticClass:"box"},[t.isEditing()?s("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("task_status.edit_title"))+" "+t._s(t.taskStatusToEdit.name)+" ")]):s("h1",{staticClass:"title"},[t._v(" "+t._s(t.$t("task_status.new_task_status"))+" ")]),s("form",{on:{submit:function(t){t.preventDefault()}}},[s("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"nameField",attrs:{"input-class":"task-status-name",label:t.$t("task_status.fields.name")},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),s("text-field",{directives:[{name:"focus",rawName:"v-focus"}],ref:"shortNameField",attrs:{"input-class":"task-status-short-name",label:t.$t("task_status.fields.short_name"),maxlength:8},model:{value:t.form.short_name,callback:function(e){t.$set(t.form,"short_name",e)},expression:"form.short_name"}}),s("combobox-boolean",{attrs:{label:t.$t("task_status.fields.is_done")},model:{value:t.form.is_done,callback:function(e){t.$set(t.form,"is_done",e)},expression:"form.is_done"}}),s("combobox-boolean",{attrs:{label:t.$t("task_status.fields.is_retake")},model:{value:t.form.is_retake,callback:function(e){t.$set(t.form,"is_retake",e)},expression:"form.is_retake"}}),s("combobox-boolean",{attrs:{label:t.$t("task_status.fields.is_artist_allowed")},model:{value:t.form.is_artist_allowed,callback:function(e){t.$set(t.form,"is_artist_allowed",e)},expression:"form.is_artist_allowed"}}),s("combobox-boolean",{attrs:{label:t.$t("task_status.fields.is_client_allowed")},model:{value:t.form.is_client_allowed,callback:function(e){t.$set(t.form,"is_client_allowed",e)},expression:"form.is_client_allowed"}}),s("color-field",{ref:"colorField",attrs:{label:t.$t("task_status.fields.color"),colors:t.colors},model:{value:t.form.color,callback:function(e){t.$set(t.form,"color",e)},expression:"form.color"}})],1),s("modal-footer",{attrs:{"error-text":t.$t("task_status.create_error"),"is-error":t.isError,"is-loading":t.isLoading},on:{confirm:t.confirmClicked,cancel:function(e){return t.$emit("cancel")}}})],1)])])},c=[],d=s("d065"),u=s("4636"),f=s("f865"),m=s("d5c9"),_=s("7bf8"),k={name:"edit-task-status-modal",mixins:[d["a"]],components:{ColorField:f["a"],ComboboxBoolean:u["a"],ModalFooter:m["a"],TextField:_["a"]},props:["onConfirmClicked","text","active","cancelRoute","isLoading","isError","taskStatusToEdit"],data:function(){return{form:{name:"",short_name:"",color:"$grey999",is_reviewable:"true",is_done:"false"},isRetakeOptions:[{label:this.$t("main.yes"),value:"true"},{label:this.$t("main.no"),value:"false"}],isDoneOptions:[{label:this.$t("main.yes"),value:"true"},{label:this.$t("main.no"),value:"false"}],isArtistAllowedOptions:[{label:this.$t("main.yes"),value:"true"},{label:this.$t("main.no"),value:"false"}],colors:["#000000","#FF3860","#E81123","#E74C3C","#FF5722","#FF7043","#FFA000","#FBC02D","#AFB42B","#8BC34A","#66BB6A","#22D160","#4DB6AC","#03A9F4","#3273DC","#3498DB","#2980B9","#607D8B","#8764B8","#AB26FF","#E040FB","#FF80AB"]}},computed:Object(o["a"])({},Object(l["c"])(["taskStatus","taskStatusStatusOptions"])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])([])),{},{confirmClicked:function(){this.$emit("confirm",this.form)},isEditing:function(){return this.taskStatusToEdit&&this.taskStatusToEdit.id},resetForm:function(){this.taskStatusToEdit&&(this.form={name:this.taskStatusToEdit.name,short_name:this.taskStatusToEdit.short_name,color:this.taskStatusToEdit.color,is_reviewable:String(this.taskStatusToEdit.is_reviewable),is_done:String(this.taskStatusToEdit.is_done),is_retake:String(this.taskStatusToEdit.is_retake||!1),is_artist_allowed:String(this.taskStatusToEdit.is_artist_allowed),is_client_allowed:String(this.taskStatusToEdit.is_client_allowed)})}}),watch:{taskStatusToEdit:function(){this.resetForm()},active:function(){var t=this;this.active&&(this.resetForm(),setTimeout((function(){t.$refs.nameField.focus()}),100))}}},h=k,b=(s("021e"),s("2877")),v=Object(b["a"])(h,r,c,!1,null,"bc9c73fc",null),p=v.exports,C=s("459c"),g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"data-list"},[s("div",{staticClass:"datatable-wrapper"},[s("table",{staticClass:"datatable"},[s("thead",{staticClass:"datatable-head"},[s("tr",[s("th",{staticClass:"name",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("task_status.fields.name"))+" ")]),s("th",{staticClass:"short-name",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("task_status.fields.short_name"))+" ")]),s("th",{staticClass:"is-done",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("task_status.fields.is_done"))+" ")]),s("th",{staticClass:"is-retake",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("task_status.fields.is_retake"))+" ")]),s("th",{staticClass:"is-artist-allowed",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("task_status.fields.is_artist_allowed"))+" ")]),s("th",{staticClass:"is-client-allowed",attrs:{scope:"col"}},[t._v(" "+t._s(t.$t("task_status.fields.is_client_allowed"))+" ")]),s("th",{staticClass:"actions",attrs:{scope:"col"}})])]),s("tbody",{staticClass:"datatable-body"},t._l(t.entries,(function(e){return s("tr",{key:e.id,staticClass:"datatable-row"},[s("td",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),s("task-status-name",{staticClass:"short-name",attrs:{entry:e}}),s("td",{staticClass:"is-done"},[t._v(" "+t._s(t.formatBoolean(e.is_done))+" ")]),s("td",{staticClass:"is-retake"},[t._v(" "+t._s(t.formatBoolean(e.is_retake))+" ")]),s("td",{staticClass:"is-artist-allowed"},[t._v(" "+t._s(t.formatBoolean(e.is_artist_allowed))+" ")]),s("td",{staticClass:"is-client-allowed"},[t._v(" "+t._s(t.formatBoolean(e.is_client_allowed))+" ")]),s("row-actions-cell",{attrs:{"entry-id":e.id,"hide-edit":"todo"===e.short_name,"hide-delete":"todo"===e.short_name},on:{"edit-clicked":function(s){return t.$emit("edit-clicked",e)},"delete-clicked":function(s){return t.$emit("delete-clicked",e)}}})],1)})),0)])]),s("table-info",{attrs:{"is-loading":t.isLoading,"is-error":t.isError}}),s("p",{staticClass:"has-text-centered nb-task-status"},[t._v(" "+t._s(t.entries.length)+" "+t._s(t.$tc("task_status.number",t.entries.length))+" ")])],1)},S=[],$=s("31f2"),w=s("14b2"),E=s("e60b"),T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("td",{staticClass:"name"},[s("div",{staticClass:"tag",style:{background:t.color,color:t.textColor}},[t._v(" "+t._s(t.entry.short_name)+" ")])])},x=[],F={name:"task-status-name",components:{},props:["entry"],computed:Object(o["a"])(Object(o["a"])({},Object(l["c"])(["isDarkTheme"])),{},{color:function(){return"todo"===this.entry.short_name&&this.isDarkTheme?"#5F626A":this.entry.color},textColor:function(){return"todo"!==this.entry.short_name||this.isDarkTheme?"white":"#333"}}),methods:Object(o["a"])({},Object(l["b"])([]))},O=F,j=(s("f2a2"),Object(b["a"])(O,T,x,!1,null,"42a13a88",null)),B=j.exports,y={name:"task-status-list",mixins:[$["a"]],props:["entries","isLoading","isError"],data:function(){return{}},components:{RowActionsCell:w["a"],TableInfo:E["a"],TaskStatusName:B},computed:Object(o["a"])({},Object(l["c"])([])),methods:Object(o["a"])({},Object(l["b"])([]))},D=y,A=(s("a4a9"),Object(b["a"])(D,g,S,!1,null,"336c9425",null)),L=A.exports,N={name:"task-status",components:{DeleteModal:n["a"],EditTaskStatusModal:p,ListPageHeader:C["a"],TaskStatusList:L},data:function(){return{taskStatusToDelete:null,taskStatusToEdit:{color:"#000000"},modals:{edit:!1,del:!1},loading:{edit:!1,del:!1,list:!1},errors:{edit:!1,del:!1,list:!1}}},computed:Object(o["a"])({},Object(l["c"])(["taskStatus","taskStatusMap"])),created:function(){},methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])(["deleteTaskStatus"])),{},{confirmEditTaskStatus:function(t){var e=this,s=!(this.taskStatusToEdit&&this.taskStatusToEdit.id),a="newTaskStatus";s||(a="saveTaskStatus",t.id=this.taskStatusToEdit.id),this.loading.edit=!0,this.loading.del=!1,this.$store.dispatch(a,t).then((function(){e.loading.edit=!1,e.modals.edit=!1})).catch((function(t){console.error(t),e.loading.edit=!1,e.errors.edit=!0}))},confirmDeleteTaskStatus:function(){var t=this;this.loading.del=!0,this.errors.del=!1,this.deleteTaskStatus(this.taskStatusToDelete).then((function(){t.loading.del=!1,t.modals.del=!1})).catch((function(e){console.error(e),t.loading.del=!1,t.errors.del=!0}))},deleteText:function(){var t=this.taskStatusToDelete;return t?this.$t("task_status.delete_text",{name:t.name}):""},onNewClicked:function(){this.taskStatusToEdit={color:"#000000"},this.modals.edit=!0},onEditClicked:function(t){this.taskStatusToEdit=t,this.modals.edit=!0},onDeleteClicked:function(t){this.taskStatusToDelete=t,this.modals.del=!0}}),watch:{},metaInfo:function(){return{title:"".concat(this.$t("task_status.title")," - Kitsu")}}},M=N,I=Object(b["a"])(M,a,i,!1,null,"2ac531f3",null);e["default"]=I.exports},a4a9:function(t,e,s){"use strict";s("af0f")},af0f:function(t,e,s){},f2a2:function(t,e,s){"use strict";s("61a3")},f865:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"field"},[s("label",{staticClass:"label"},[t._v(t._s(t.label))]),s("div",{staticClass:"control colors"},t._l(t.colors,(function(e,a){return s("div",{key:"color-"+a,ref:"color-"+a,refInFor:!0,class:{color:!0,selected:t.value===e},on:{click:function(s){return t.colorChanged(e)}}},[s("span",{style:{background:e}})])})),0)])},i=[],o=s("5530"),l=s("2f62"),n={name:"text-field",props:{label:{default:"",type:String},value:{default:"$grey999",type:String},placeholder:{default:"",type:String},type:{default:"text",type:String},colors:{default:function(){return["#999999","#8D6E63","#43A047","#7CB342","#009688","#9CCC65","#AFB42B","#DCE775","#FFF176","#FFEB3B","#F9A825","#F57C00","#ff5252","#F06292","#AB47BC","#5C6BC0","#1976D2","#039BE5","#42A5F5","#64B5F6","#26C6DA","#78909C"]}}},data:function(){return{selectedColor:"$grey999"}},computed:Object(o["a"])({},Object(l["c"])([])),methods:Object(o["a"])(Object(o["a"])({},Object(l["b"])([])),{},{colorChanged:function(t,e){this.$emit("input",t)}})},r=n,c=(s("099d"),s("2877")),d=Object(c["a"])(r,a,i,!1,null,"562b3c5e",null);e["a"]=d.exports}}]);
//# sourceMappingURL=chunk-fe566aba.0f6dbd83.js.map