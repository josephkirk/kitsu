{"version":3,"sources":["webpack:///./src/components/pages/Task.vue?4033","webpack:///./src/components/widgets/PreviewRow.vue?e74f","webpack:///./src/components/widgets/ButtonLink.vue?260f","webpack:///./src/components/pages/Task.vue?2b57","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/widgets/PreviewRow.vue?bb2b","webpack:///src/components/widgets/PreviewRow.vue","webpack:///./src/components/widgets/PreviewRow.vue?2db5","webpack:///./src/components/widgets/PreviewRow.vue","webpack:///src/components/pages/Task.vue","webpack:///./src/components/pages/Task.vue?f467","webpack:///./src/components/pages/Task.vue","webpack:///./src/components/widgets/ButtonLink.vue?f64d","webpack:///src/components/widgets/ButtonLink.vue","webpack:///./src/components/widgets/ButtonLink.vue?b68b","webpack:///./src/components/widgets/ButtonLink.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","entityPage","taskEntityPath","_v","_s","currentTask","title","currentTaskType","currentProduction","id","_e","isAssigned","isSubscribed","on","toggleSubscribe","$t","_l","personId","key","personMap","ref","loading","addComment","errors","user","currentTeam","taskStatusForCurrentUser","attachedFileName","onAddPreviewClicked","onDuplicateComment","selectFile","currentTaskComments","length","comment","index","person","isCurrentUserAdmin","pinnedCount","ackComment","onPinComment","onEditComment","onDeleteComment","saveComment","isPreviews","isCurrentUserManager","class","button","setPreview","entity","preview_file_id","currentPreviewId","preview","previewPath","currentPreview","previews","taskTypeMap","taskEntityPreviews","isCurrentUserArtist","lastFivePreviews","onAnnotationChanged","onAddExtraPreviewClicked","onRemoveExtraPreviewClicked","changeCurrentPreview","modals","addPreview","addPreviewFormData","$event","closeAddPreviewModal","addExtraPreview","addExtraPreviewFormData","hideExtraPreviewModal","createExtraPreview","editComment","commentToEdit","confirmEditTaskComment","onCancelEditComment","deleteComment","confirmDeleteTaskComment","onCancelDeleteComment","deleteExtraPreview","hideRemoveExtraPreviewModal","confirmDeleteTaskPreview","staticRenderFns","_typeof","obj","Symbol","iterator","constructor","prototype","selected","label","name","components","ButtonLink","props","type","Object","default","Boolean","computed","methods","component","AddComment","AddPreviewModal","Comment","ChevronLeftIcon","DeleteModal","EditCommentModal","ImageIcon","PeopleAvatar","PreviewRow","PreviewPlayer","Spinner","SubscribeButton","TaskTypeName","ValidationTag","data","getEntityPage","selectedTab","taskLoading","isLoading","isError","deleteTask","currentTaskPreviews","created","clearSelectedTasks","loadTaskData","mounted","reset","$nextTick","window","scrollTo","isPreviewButtonVisible","extension","previewId","find","isCommentingAllowed","assignees","taskTypeBorder","border","task_type_color","deleteTaskPath","taskPath","entityId","entity_id","params","production_id","project_id","route","shot_id","asset_id","$route","episode_id","slice","entityList","displayedShots","displayedAssets","previousEntity","nextEntity","previewPlayer","$refs","isTVShow","entityName","windowTitle","deleteText","some","assigneeId","task_type_id","team","map","filter","task","loadTaskComments","loadTask","getCurrentTask","taskMap","task_id","getCurrentComment","comment_id","getTaskComment","getCurrentTaskComments","getTaskComments","getCurrentTaskPreviews","getTaskPreviews","taskId","taskStatusId","checklist","attachment","action","$store","dispatch","loadPreviewFileFormData","forms","isHighlighted","findIndex","addCommentExtraPreview","commentId","resetPreview","changeRoute","$router","push","editTaskComment","deleteTaskComment","displayFirst","deleteTaskPreview","currentExtraPreviewId","onPreviewAdded","commit","revision","unsubscribeFromTask","subscribeToTask","section","currentEpisode","preview_id","updatePreviewAnnotation","showRemoveExtraPreviewModal","setValue","pinComment","onRemoteAcknowledge","watch","socket","events","eventData","refreshPreview","metaInfo","path","icon","startsWith","isText","text","isResponsive","DownloadIcon","EditIcon","PlusIcon","RotateCcwIcon","TrashIcon","UploadIcon","String"],"mappings":"gHAAA,W,oCCAA,W,6DCAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACG,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,MAAM,CAACE,YAAY,eAAe,CAAEN,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACF,EAAG,cAAc,CAACE,YAAY,2CAA2CE,MAAM,CAAC,GAAKR,EAAIS,aAAa,CAACL,EAAG,sBAAsB,GAAGA,EAAG,MAAM,CAACE,YAAY,sBAAsB,CAACF,EAAG,cAAc,CAACI,MAAM,CAAC,GAAKR,EAAIU,iBAAiB,CAACV,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIa,YAAcb,EAAIc,MAAQ,cAAc,QAAQ,GAAId,EAAmB,gBAAEI,EAAG,iBAAiB,CAACE,YAAY,yBAAyBE,MAAM,CAAC,YAAYR,EAAIe,gBAAgB,gBAAgBf,EAAIgB,kBAAkBC,MAAMjB,EAAIkB,KAAOlB,EAAImB,WAAuKnB,EAAIkB,KAA/Jd,EAAG,mBAAmB,CAACE,YAAY,6BAA6BE,MAAM,CAAC,WAAaR,EAAImB,YAAcnB,EAAIoB,cAAcC,GAAG,CAAC,MAAQrB,EAAIsB,oBAA6B,GAAGtB,EAAIkB,KAAMlB,EAAe,YAAEI,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACF,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIuB,GAAG,4BAA6BvB,EAAe,YAAEI,EAAG,iBAAiB,CAACE,YAAY,yBAAyBE,MAAM,CAAC,KAAOR,EAAIa,YAAY,aAAY,KAAQb,EAAIkB,KAAKd,EAAG,OAAO,CAACE,YAAY,gBAAgB,CAACN,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIuB,GAAG,2BAA2B,OAAOvB,EAAIwB,GAAIxB,EAAIa,YAAqB,WAAE,SAASY,GAAU,OAAOrB,EAAG,OAAO,CAACsB,IAAID,EAASnB,YAAY,+BAA+B,CAACF,EAAG,gBAAgB,CAACsB,IAAID,EAASnB,YAAY,eAAeE,MAAM,CAAC,OAASR,EAAI2B,UAAUF,GAAU,KAAO,GAAG,YAAY,OAAO,OAAM,GAAGzB,EAAIkB,OAAOd,EAAG,MAAM,CAACwB,IAAI,eAAetB,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAAEN,EAAe,YAAEI,EAAG,MAAM,CAACA,EAAG,MAAM,CAAEJ,EAAuB,oBAAEI,EAAG,cAAc,CAACwB,IAAI,cAAcpB,MAAM,CAAC,aAAaR,EAAI6B,QAAQC,WAAW,WAAW9B,EAAI+B,OAAOD,WAAW,KAAO9B,EAAIgC,KAAK,KAAOhC,EAAIiC,YAAY,KAAOjC,EAAIa,YAAY,cAAcb,EAAIkC,yBAAyB,qBAAqBlC,EAAImC,kBAAkBd,GAAG,CAAC,cAAcrB,EAAI8B,WAAW,cAAc9B,EAAIoC,oBAAoB,oBAAoBpC,EAAIqC,mBAAmB,YAAYrC,EAAIsC,cAActC,EAAIkB,KAAMlB,EAAIuC,qBAAuBvC,EAAIuC,oBAAoBC,OAAS,EAAGpC,EAAG,MAAM,CAACE,YAAY,YAAYN,EAAIwB,GAAIxB,EAAuB,qBAAE,SAASyC,EAAQC,GAAO,OAAOtC,EAAG,UAAU,CAACsB,IAAIe,EAAQxB,GAAGT,MAAM,CAAC,QAAUiC,EAAQ,KAAOzC,EAAIa,YAAY,aAAc,EAAM,eAAeb,EAAIgC,KAAK,SAC76ES,EAAQE,QAAU3C,EAAIgC,KAAKf,KAAOwB,EAAQE,OAAO1B,IACjDjB,EAAI4C,mBACJ,WAAqB,IAAVF,EAAY,UAAUA,IAAU1C,EAAI6C,aAAaxB,GAAG,CAAC,cAAcrB,EAAI8C,WAAW,cAAc9C,EAAI+C,aAAa,eAAe/C,EAAIgD,cAAc,iBAAiBhD,EAAIiD,gBAAgB,oBAAoBjD,EAAIkD,kBAAiB,GAAG9C,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,KAAK,CAACJ,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIuB,GAAG,qBAAqB,UAAU,KAAKnB,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,KAAKA,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,KAAK,CAACE,YAAY,yBAAyB,CAACN,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIuB,GAAG,kBAAkB,OAAQvB,EAA0B,uBAAEI,EAAG,MAAM,CAACE,YAAY,oDAAoD,CAAEN,EAAImD,YAAcnD,EAAIoD,qBAAsBhD,EAAG,SAAS,CAACiD,MAAM,CACzzBC,QAAQ,EACR,gBAAgB,EAChB,aAActD,EAAI6B,QAAQ0B,YAC1BlC,GAAG,CAAC,MAAQrB,EAAIuD,aAAa,CAACnD,EAAG,aAAa,CAACE,YAAY,SAASF,EAAG,OAAO,CAACE,YAAY,QAAQ,CAACN,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIuB,GAAG,sBAAsB,QAAQ,GAAGvB,EAAIkB,KAAMlB,EAAI+B,OAAiB,WAAE3B,EAAG,OAAO,CAACE,YAAY,sBAAsB,CAACN,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIuB,GAAG,4BAA4B,OAAOvB,EAAIkB,OAAOlB,EAAIkB,KAAMlB,EAAIa,aAAeb,EAAIa,YAAY2C,QAAUxD,EAAIa,YAAY2C,OAAOC,kBAAoBzD,EAAI0D,iBAAkBtD,EAAG,MAAM,CAACE,YAAY,4CAA4C,CAACF,EAAG,KAAK,CAACJ,EAAIW,GAAGX,EAAIY,GAAGZ,EAAIuB,GAAG,gCAAgCvB,EAAIkB,OAAQlB,EAAc,WAAEI,EAAG,MAAM,CAACE,YAAY,oBAAoBN,EAAIwB,GAAIxB,EAAuB,qBAAE,SAAS2D,GAAS,OAAOvD,EAAG,cAAc,CAACsB,IAAIiC,EAAQ1C,GAAGT,MAAM,CAAC,QAAUmD,EAAQ,eAAe3D,EAAI4D,YAAYD,EAAQ1C,IAAI,OAASjB,EAAIa,YAAcb,EAAIa,YAAYI,GAAK,GAAG,SAAW0C,EAAQ1C,KAAOjB,EAAI0D,uBAAsB,GAAGtD,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAIuB,GAAG,qBAAqB,SAASnB,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAAEN,EAAc,WAAEI,EAAG,MAAM,CAAEJ,EAAkB,eAAEI,EAAG,iBAAiB,CAACwB,IAAI,iBAAiBpB,MAAM,CAAC,SAAWR,EAAI6D,eAAeC,SAAS,gBAAgB9D,EAAI+D,YAAY,uBAAuB/D,EAAIgE,mBAAmB,YAAYhE,EAAIiE,oBAAoB,qBAAqBjE,EAAIkE,kBAAkB7C,GAAG,CAAC,qBAAqBrB,EAAImE,oBAAoB,oBAAoBnE,EAAIoE,yBAAyB,uBAAuBpE,EAAIqE,4BAA4B,yBAAyBrE,EAAIsE,wBAAwBtE,EAAIkB,MAAM,GAAGlB,EAAIkB,aAAad,EAAG,oBAAoB,CAACwB,IAAI,oBAAoBpB,MAAM,CAAC,OAASR,EAAIuE,OAAOC,WAAW,aAAaxE,EAAI6B,QAAQ2C,WAAW,WAAWxE,EAAI+B,OAAOyC,WAAW,YAAYxE,EAAIyE,oBAAoBpD,GAAG,CAAC,OAAS,SAASqD,GAAQ1E,EAAIuE,OAAOC,YAAa,GAAO,aAAexE,EAAIsC,WAAW,QAAUtC,EAAI2E,wBAAwBvE,EAAG,oBAAoB,CAACwB,IAAI,0BAA0BpB,MAAM,CAAC,OAASR,EAAIuE,OAAOK,gBAAgB,aAAa5E,EAAI6B,QAAQ+C,gBAAgB,WAAW5E,EAAI+B,OAAO6C,gBAAgB,YAAY5E,EAAI6E,yBAAyBxD,GAAG,CAAC,OAASrB,EAAI8E,sBAAsB,aAAe9E,EAAIsC,WAAW,QAAUtC,EAAI+E,sBAAsB3E,EAAG,qBAAqB,CAACI,MAAM,CAAC,OAASR,EAAIuE,OAAOS,YAAY,aAAahF,EAAI6B,QAAQmD,YAAY,WAAWhF,EAAI+B,OAAOiD,YAAY,kBAAkBhF,EAAIiF,cAAc,KAAOjF,EAAIiC,aAAaZ,GAAG,CAAC,QAAUrB,EAAIkF,uBAAuB,OAASlF,EAAImF,uBAAuB/E,EAAG,eAAe,CAACI,MAAM,CAAC,OAASR,EAAIuE,OAAOa,cAAc,aAAapF,EAAI6B,QAAQuD,cAAc,WAAWpF,EAAI+B,OAAOqD,cAAc,KAAOpF,EAAIuB,GAAG,wBAAwB,aAAavB,EAAIuB,GAAG,+BAA+BF,GAAG,CAAC,QAAUrB,EAAIqF,yBAAyB,OAASrF,EAAIsF,yBAAyBlF,EAAG,eAAe,CAACI,MAAM,CAAC,OAASR,EAAIuE,OAAOgB,mBAAmB,aAAavF,EAAI6B,QAAQ0D,mBAAmB,WAAWvF,EAAI+B,OAAOwD,mBAAmB,KAAOvF,EAAIuB,GAAG,wBAAwB,aAAavB,EAAIuB,GAAG,+BAA+BF,GAAG,CAAC,OAASrB,EAAIwF,4BAA4B,QAAUxF,EAAIyF,6BAA6B,MACphGC,EAAkB,G,wMCRP,SAASC,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,GAItHD,EAAQC,G,gHCbb,EAAS,WAAa,IAAI5F,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACiD,MAAM,CAC9G,eAAe,EACf,mBAAmB,EACnB4C,SAAUjG,EAAIiG,WACb,CAAC7F,EAAG,cAAc,CAACI,MAAM,CAAC,KAAOR,EAAIkG,MAAM,KAAOlG,EAAI4D,gBAAgB,IACrE,EAAkB,G,YCWtB,GACEuC,KAAM,cACNC,WAAY,CACVC,WAAJ,QAEEC,MAAO,CACL3C,QAAS,CACP4C,KAAMC,OACNC,QAAS,cAEXR,SAAU,CACRM,KAAMG,QACND,SAAS,GAEX7C,YAAa,CACX2C,KAAMC,OACNC,QAAS,eAGbE,SAAU,CACRT,MADJ,WAEM,IAAN,oCACM,OAAOA,IAGXU,QAAS,ICzCwV,I,wBCQ/VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,oEC0Pf,GACEV,KAAM,OACNC,WAAY,CACVU,WAAJ,OACIC,gBAAJ,OACIC,QAAJ,OACIC,gBAAJ,OACIC,YAAJ,OACIC,iBAAJ,OACIC,UAAJ,OACIC,aAAJ,OACIC,WAAJ,EACIC,cAAJ,OACIC,QAAJ,OACIC,gBAAJ,OACIC,aAAJ,OACIC,cAAJ,QAGEC,KAnBF,WAoBI,MAAO,CACLzF,iBAAkB,GAClB1B,WAAYR,KAAK4H,gBACjBC,YAAa,aACbC,YAAa,CACXC,WAAW,EACXC,SAAS,GAEX1D,OAAQ,CACNC,YAAY,EACZI,iBAAiB,EACjBW,oBAAoB,EACpB2C,YAAY,EACZ9C,eAAe,EACfJ,aAAa,GAEfnD,QAAS,CACPC,YAAY,EACZ0C,YAAY,EACZI,iBAAiB,EACjBrB,YAAY,EACZ2E,YAAY,EACZ9C,eAAe,EACfJ,aAAa,GAEfjD,OAAQ,CACND,YAAY,EACZ0C,YAAY,EACZI,iBAAiB,EACjBrB,YAAY,EACZ2E,YAAY,EACZ9C,eAAe,EACfJ,aAAa,GAEfnE,YAAa,KACb0B,oBAAqB,GACrB4F,oBAAqB,GACrBlD,cAAe,KACfR,mBAAoB,KACpBI,wBAAyB,KACzBzD,cAAc,IAIlBgH,QAhEF,WAiEInI,KAAKoI,qBACLpI,KAAKqI,gBAGPC,QArEF,WAqEA,WACItI,KAAKuI,QACLvI,KAAKwI,WAAU,WACT,EAAV,wBACQ,EAAR,oCACQC,OAAOC,SAAS,EAAG,QAKzBhC,SAAU,OAAZ,OAAY,CAAZ,kBACA,gBACA,iBACA,oBACA,iBACA,kBACA,kBACA,kBACA,iBACA,qBACA,sBACA,uBACA,kBACA,WACA,YACA,gBACA,QACA,qBACA,aACA,2BACA,UACA,cACA,UAtBA,IAyBIiC,uBAzBJ,WA0BM,OACN,kBACA,yBACA,iEACA,wCAIIC,UAlCJ,WAmCM,OAAO5I,KAAK4D,eAAiB5D,KAAK4D,eAAegF,UAAY,IAG/DnF,iBAtCJ,WAuCM,OAAOzD,KAAK4D,eAAiB5D,KAAK4D,eAAe5C,GAAK,IAGxD4C,eA1CJ,WA2CM,GAAI5D,KAAKkD,WAAY,CACnB,IAAR,8BACA,+BAMQ,OALI2F,IACFjF,EAAiB5D,KAAKkI,oBAAoBY,MAAK,SAAzD,GACY,OAAOpF,EAAQ1C,KAAO6H,MAGnBjF,EAEP,OAAO,MAIXmF,oBAzDJ,WAyDA,WACM,OAAO/I,KAAKmD,sBAAwBnD,KAAKY,YAAYoI,UAAUF,MACrE,YAAQ,OAAR,kBAIIG,eA/DJ,WAgEM,IAAN,gBAEM,OADIjJ,KAAKY,cAAasI,EAASlJ,KAAKY,YAAYuI,iBACzC,CACL,cAAe,aAAvB,YAIIC,eAvEJ,WAwEM,OAAOpJ,KAAKqJ,SAASrJ,KAAKY,YAAa,gBAGzCsC,WA3EJ,WA4EM,OAAOlD,KAAKkI,qBAAuBlI,KAAKkI,oBAAoB3F,OAAS,GAGvE9B,eA/EJ,WAgFM,GAAIT,KAAKY,YAAa,CACpB,IAAR,oCACA,KAEU0I,EADEtJ,KAAKY,YAAY2C,OACRvD,KAAKY,YAAY2C,OAAOvC,GAExBhB,KAAKY,YAAY2I,UAG9B,IAAR,GACUrD,KAAe,SAATI,EAAkB,OAAS,QACjCkD,OAAQ,CACNC,cAAezJ,KAAKY,YAAY8I,aAepC,MAXa,SAATpD,EACFqD,EAAMH,OAAOI,QAAUN,EAEvBK,EAAMH,OAAOK,SAAWP,EAGtBtJ,KAAK8J,OAAON,OAAOO,aACrBJ,EAAMzD,KAAO,WAAvB,eACUyD,EAAMH,OAAOO,WAAa/J,KAAK8J,OAAON,OAAOO,YAGxCJ,EAEP,MAAO,CACLzD,KAAM,qBAKZjC,iBAnHJ,WAoHM,OAAIjE,KAAKkI,oBACAlI,KAAKkI,oBAAoB8B,MAAM,EAAG,GAElC,IAIXC,WA3HJ,WA2HA,WACA,wCACQ,OAAO1G,EAAOvC,KAAO,EAA7B,yBAEM,OAAIuC,EACKvD,KAAKkK,eAELlK,KAAKmK,iBAIhBC,eAtIJ,WAsIA,WACM,IAAIpK,KAAKY,YA0CP,MAAO,CACLsF,KAAM,oBA3ChB,iBACA,iCACA,sCACA,yCAEA,KAEA,MACA,MACA,yBAGA,WACA,UACA,oBACA,sBACA,4BACA,mBACA,WACA,2BAMA,mBAGA,QACA,IACA,MAEA,GADA,sBACA,EACA,eAEA,MAKA,6BAxCA,qCAgDImE,WAvLJ,WAuLA,WACM,IAAIrK,KAAKY,YA2CP,MAAO,CACLsF,KAAM,oBA5ChB,iBACA,iCACA,KACA,sCACA,yCAGA,MACA,yBACA,KAGA,WACA,UACA,oBACA,sBACA,4BACA,mBACA,WACA,2BAMA,mBAGA,QACA,IACA,yBAGA,GAFA,IAEA,EACA,eAEA,MAKA,6BAzCA,qCAiDIoE,cAzOJ,WA0OM,OAAOtK,KAAKuK,MAAM,mBAGpB1J,MA7OJ,WA8OM,GAAIb,KAAKY,YAAa,CACpB,IAAR,oCACA,EACA,gEAOQ,OANIZ,KAAKwK,UAAqB,SAATlE,IACnBmE,EAAaA,EACvB,WACA,UACA,WAEe,GAAf,UAEQ,MAAO,cAIXC,YA9PJ,WA+PM,GAAI1K,KAAKY,YAAa,CACpB,IAAR,kCACQ,MAAO,GAAf,mCAEQ,MAAO,cAIX+J,WAvQJ,WAwQM,GAAI3K,KAAKY,YAAa,CACpB,IAAR,kDACQ,OAAOZ,KAAKsB,GAAG,mBAAoB,CACjC4E,KAAM,GAAhB,4DAGQ,MAAO,IAIXhF,WAlRJ,WAkRA,WACM,QAAIlB,KAAKY,aACAZ,KAAKY,YAAYoI,UAAU4B,MAAK,SAA/C,GACU,OAAOC,IAAe,EAAhC,YAOI/J,gBA5RJ,WA6RM,OAAId,KAAKY,YACAZ,KAAK8D,YAAY9D,KAAKY,YAAYkK,cAElC,MAIX9I,YApSJ,WAoSA,WACM,OAAOhC,KAAKe,kBAAkBgK,KAAKC,KAAI,SAA7C,6BAGIpI,YAxSJ,WAySM,OAAO5C,KAAKsC,oBAAoB2I,QAAO,SAA7C,gCAIEtE,QAAS,OAAX,OAAW,CAAX,kBACA,gBACA,aACA,oBACA,yBACA,cACA,yBACA,uBACA,qBACA,aACA,oBACA,oBACA,kBACA,eACA,WACA,YACA,aACA,0BACA,mBACA,qBACA,iBACA,aACA,kBACA,oBACA,sBACA,6BAzBA,IA4BIiB,cA5BJ,WA6BM,GAAI5H,KAAKY,YAAa,CACpB,IAAR,GACUsF,KAAMlG,KAAK8J,OAAON,OAAOlD,KACzBkD,OAAQ,CAAlB,4CAcQ,MAXmB,UAAfG,EAAMzD,KACRyD,EAAMH,OAAOK,SAAW7J,KAAKY,YAAY2I,UAEzCI,EAAMH,OAAOI,QAAU5J,KAAKY,YAAY2I,UAGtCvJ,KAAKwK,WACPb,EAAMzD,KAAO,WAAvB,eACUyD,EAAMH,OAAOO,WACvB,0EAEeJ,EAEP,MAAO,CACLzD,KAAM,qBAKZmC,aAtDJ,WAsDA,WACA,wBACM,GAAK6C,EAuCX,CACQ,IAAR,4BACQlL,KAAKY,YAAcsK,EACnBlL,KAAKmL,iBAAiB,CAA9B,gCACA,iBAAU,OAAV,oCACA,kBACU,EAAV,eACU,EAAV,+CACU,EAAV,+CACU,EAAV,gCAEA,mBACU,QAAV,SACU,EAAV,+BAnDQnL,KAAK8H,YAAc,CAA3B,yBACQ9H,KAAKoL,SAAS,CAAtB,mCACA,kBACU,IAAV,cACY,EAAZ,aACA,SAGA,8BACY,EAAZ,YACc,EAAd,eACA,iBACA,YACkB,EAAlB,gCAEgB,EAAhB,gBAEA,WAGU,GAAV,WACY,EAAZ,cACY,EAAZ,kBACc,OAAd,KACc,SAAd,cAEA,iBAAc,OAAd,sBAAgB,OAAhB,UACA,kBACc,EAAd,eACc,EAAd,QACc,EAAd,6BACc,EAAd,aAAgB,WAAhB,EAAgB,SAAhB,MACA,mBACc,QAAd,SACc,EAAd,aAAgB,WAAhB,EAAgB,SAAhB,aAsBIC,eAjHJ,WAkHM,OAAOrL,KAAKsL,QAAQtL,KAAK2J,MAAMH,OAAO+B,UAGxCC,kBArHJ,WAsHM,GAAIxL,KAAK2J,MAAMH,OAAOiC,WACpB,OAAOzL,KAAK0L,eACpB,0BACA,+BAKIC,uBA9HJ,WA+HM,OAAO3L,KAAK4L,gBAAgB5L,KAAK2J,MAAMH,OAAO+B,UAGhDM,uBAlIJ,WAmIM,OAAO7L,KAAK8L,gBAAgB9L,KAAK2J,MAAMH,OAAO+B,UAGhD1J,WAtIJ,SAsIA,oBACA,GACQkK,OAAQ/L,KAAKY,YAAYI,GACzBgL,aAAcA,EACdxJ,QAASA,EACTyJ,UAAR,EACQC,WAAR,GAEA,gBACUlM,KAAKkC,mBAAkBiK,EAAS,0BACpCnM,KAAK4B,QAAQC,YAAa,EAC1B7B,KAAK8B,OAAOD,YAAa,EACzB7B,KAAKoM,OAAOC,SAASF,EAAQ3C,GACnC,iBACQ,EAAR,+CACQ,EAAR,eACQ,EAAR,mCACQ,EAAR,QACQ,EAAR,oBACQ,EAAR,yBAEA,mBACQ,QAAR,SACQ,EAAR,qBACQ,EAAR,0BAIIjB,MAlKJ,WAmKMvI,KAAKsC,oBAAsBtC,KAAK2L,yBAChC3L,KAAKkI,oBAAsBlI,KAAK6L,yBAChC7L,KAAKY,YAAcZ,KAAKqL,kBAG1BhJ,WAxKJ,SAwKA,GACMrC,KAAKsM,wBAAwBC,GAC7BvM,KAAKkC,iBAAmBqK,EAC9B,iBAAQ,OAAR,sBACA,YAGIC,cA/KJ,SA+KA,GACM,OAAOhK,EAAQkB,SAAWlB,EAAQkB,QAAQ1C,KAAOhB,KAAKyD,kBAGxDqB,mBAnLJ,WAmLA,WACA,2BACA,uBACM9E,KAAK8B,OAAO6C,iBAAkB,EAC9B3E,KAAK4B,QAAQ+C,iBAAkB,EAC/B,IAAN,kDACQ,OAAOnC,EAAQqB,SAAS4I,WAAU,SAA1C,+BAEMzM,KAAK0M,uBAAuB,CAC1BX,OAAQ/L,KAAKY,YAAYI,GACzB6H,UAAW7I,KAAK4D,eAAe5C,GAC/B2L,UAAWnK,EAAQxB,KAE3B,iBACQ,EAAR,2BACQ,EAAR,0BACQ,EAAR,yCACQ,YAAR,WACU,EAAV,8BACA,MAEA,mBACQ,QAAR,SACQ,EAAR,0BACQ,EAAR,+BAII4L,aA/MJ,WA+MA,iEACA,2BACA,uBACM5M,KAAKsC,oBAAsBtC,KAAK2L,yBAChC3L,KAAKkI,oBAAsBlI,KAAK6L,yBAC5BnI,GAAWmJ,GACb7M,KAAK8M,QAAQC,KAAK/M,KAAK2D,YAAYD,EAAQ1C,MAI/CsC,WAzNJ,WAyNA,WACMtD,KAAK4B,QAAQ0B,YAAa,EAC1BtD,KAAK8B,OAAOwB,YAAa,EACzBtD,KAAKoM,OAAOC,SAAS,aAAc,CACjCN,OAAQ/L,KAAKY,YAAYI,GACzBsI,SAAUtJ,KAAKY,YAAY2C,OAAOvC,GAClC6H,UAAW7I,KAAKyD,mBAExB,iBACQ,EAAR,yBAEA,mBACQ,QAAR,SACQ,EAAR,yBAIIwB,uBA1OJ,SA0OA,cACMjF,KAAK4B,QAAQmD,aAAc,EAC3B/E,KAAK8B,OAAOiD,aAAc,EAC1B/E,KAAKgN,gBAAgB,CACnBjB,OAAQ/L,KAAKY,YAAYI,GACzBwB,QAAR,IAEA,iBACQ,EAAR,uBACQ,EAAR,yBAEA,mBACQ,QAAR,SACQ,EAAR,0BAIIS,YA3PJ,SA2PA,KACMjD,KAAKgN,gBAAgB,CACnBjB,OAAQ/L,KAAKY,YAAYI,GACzBwB,QAAR,EACQyJ,UAAR,KAII7G,yBAnQJ,WAmQA,WACMpF,KAAK4B,QAAQuD,eAAgB,EAC7BnF,KAAK8B,OAAOqD,eAAgB,EAC5B,IAAN,wBAEMnF,KAAKiN,kBAAkB,CACrBlB,OAAQ/L,KAAKY,YAAYI,GACzB2L,UAAR,IAEA,iBACQ,EAAR,yBACQ,EAAR,QACA,+BACQ,EAAR,2BAEA,mBACQ,QAAR,SACQ,EAAR,yBACQ,EAAR,4BAIInH,yBAzRJ,WAyRA,WACMxF,KAAK4B,QAAQ0D,oBAAqB,EAClCtF,KAAK8B,OAAOwD,oBAAqB,EACjC,IAAN,wBACA,kDACQ,OAAO9C,EAAQqB,SAAS4I,WAAU,SAA1C,4BAGMzM,KAAKsK,cAAc4C,eACnBlN,KAAKmN,kBAAkB,CACrBpB,OAAQ/L,KAAKY,YAAYI,GACzB2L,UAAWnK,EAAQxB,GACnB6H,UAAW7I,KAAKoN,wBAExB,iBACQ,EAAR,8BACQ,EAAR,eACQ,EAAR,iCAEA,mBACQ,QAAR,SACQ,EAAR,8BACQ,EAAR,iCAIIC,eAnTJ,SAmTA,GACM,IAAN,YACA,eACA,oBACA,aACA,cACA,0CAGA,kBACA,IAEA,uBACA,uBAEA,0BAEQrN,KAAKoM,OAAOkB,OAAO,kBAAmB,CACpC5J,QAAS,CACP1C,GAAI6H,EACJ0E,SAAZ,EACY3E,UAAWA,GAEbmD,OAAV,EACUY,UAAV,EACUnK,QAAV,IAEQxC,KAAK4M,iBAITvL,gBAlVJ,WAmVUrB,KAAKY,cAAgBZ,KAAKkB,aACxBlB,KAAKmB,cACPnB,KAAKwN,oBAAoBxN,KAAKY,YAAYI,IAC1ChB,KAAKmB,cAAe,IAEpBnB,KAAKyN,gBAAgBzN,KAAKY,YAAYI,IACtChB,KAAKmB,cAAe,KAK1BkI,SA9VJ,SA8VA,uEACW6B,GAGHA,EAAKxB,WAAa1J,KAAKY,YAAY8I,WACnCwB,EAAKnB,WAAa/J,KAAKY,YAAYmJ,YAHnCmB,EAAOlL,KAAKY,YAMd,IAAN,4BAeM,OAdIsK,IACFvB,EAAQ,CACNzD,KAAMwH,EACNlE,OAAQ,CACNC,cAAeyB,EAAKxB,WACpB6B,QAASL,EAAKlK,KAIdhB,KAAKwK,UAAYxK,KAAK2N,iBACxBhE,EAAMzD,KAAO,WAAvB,UACUyD,EAAMH,OAAOO,WAAamB,EAAKnB,YAAc/J,KAAK2N,eAAe3M,KAG9D2I,GAGThG,YAxXJ,SAwXA,GACM,IAAN,iDAKM,OAHIgG,EAAMH,SACRG,EAAMH,OAAOoE,WAAa/E,GAErBc,GAGTzF,oBAjYJ,YAiYA,gCACA,sBACMlE,KAAK6N,wBAAwB,CAAnC,oCAGI1J,yBAtYJ,WAuYMnE,KAAKsE,OAAOK,iBAAkB,GAGhCP,4BA1YJ,SA0YA,GACMpE,KAAK8N,4BAA4BpK,IAGnCmB,sBA9YJ,WA+YM7E,KAAKsE,OAAOK,iBAAkB,GAGhCmJ,4BAlZJ,SAkZA,GACM9N,KAAKoN,sBAAwB1J,EAAQ1C,GACrChB,KAAKsE,OAAOgB,oBAAqB,GAGnCC,4BAvZJ,WAwZMvF,KAAKsE,OAAOgB,oBAAqB,GAGnCnD,oBA3ZJ,WA4ZMnC,KAAKsE,OAAOC,YAAa,GAG3BG,qBA/ZJ,WAgaM1E,KAAKsE,OAAOC,YAAa,GAG3BnC,mBAnaJ,SAmaA,GACMpC,KAAKuK,MAAM,eAAewD,SAASvL,IAGrCM,aAvaJ,SAuaA,GACM9C,KAAKgO,WAAWxL,IAGlBO,cA3aJ,SA2aA,GACM/C,KAAKgF,cAAgBxC,EACrBxC,KAAKsE,OAAOS,aAAc,GAG5B/B,gBAhbJ,SAgbA,GACMhD,KAAKgF,cAAgBxC,EACrBxC,KAAKsE,OAAOa,eAAgB,GAG9BD,oBArbJ,SAqbA,GACMlF,KAAKsE,OAAOS,aAAc,GAG5BM,sBAzbJ,SAybA,GACMrF,KAAKsE,OAAOa,eAAgB,GAG9Bd,qBA7bJ,SA6bA,GACMrE,KAAK8M,QAAQC,KAAK/M,KAAK2D,YAAYD,EAAQ1C,MAG7CiN,oBAjcJ,SAicA,KACM,GAAIjO,KAAKY,YAAa,CACpB,IAAR,iCACA,YAAU,OAAV,uBAEA,8BACY4B,GAAWT,IACT/B,KAAK+B,KAAKf,KAAOe,EAAKf,IAGpC,YACA,mCAGA,aACA,oCAGchB,KAAKoM,OAAOkB,OAAO,cAAe,CAAhD,mBAGYtN,KAAKoM,OAAOkB,OAAO,cAAe,CAA9C,wBAOEY,MAAO,CACLpE,OADJ,WAEU9J,KAAK8J,OAAON,OAAO+B,UAAYvL,KAAKY,YAAYI,IAClDhB,KAAKqI,iBAKX8F,OAAQ,CACNC,OAAQ,CACN,wBADN,SACA,GACQpO,KAAKqN,eAAegB,IAGtB,sBALN,SAKA,cACQ,GAAKrO,KAAKkI,oBAAV,CACA,IAAR,+CACU,OAAOxE,EAAQ1C,KAAOqN,EAAU7K,mBAE9BE,GACF1D,KAAKsO,eAAe,CAClBvC,OAAQ/L,KAAKY,YAAYI,GACzB6H,UAAWwF,EAAU7K,kBACjC,iBACY,EAAZ,6CAKM,sBApBN,SAoBA,GACQxD,KAAKiO,oBAAoBI,EAAW,QAGtC,wBAxBN,SAwBA,GACQrO,KAAKiO,oBAAoBI,EAAW,YAK1CE,SAh4BF,WAi4BI,IAAJ,4BACI,GAAIvO,KAAKY,YAAa,CACpB,IAAN,uDACMC,EAAQ,GAAd,8CAEI,MAAO,CAAX,WCnpC6V,ICQzV,G,UAAY,eACd,EACAf,EACA2F,GACA,EACA,KACA,WACA,OAIa,e,yFCnBf,IAAI3F,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACE,YAAY,SAASE,MAAM,CAAC,MAAQR,EAAIc,MAAM,GAAKd,EAAIyO,OAAO,CAAEzO,EAAI0O,KAAKlM,OAAS,GAAKxC,EAAI0O,KAAKC,WAAW,MAAOvO,EAAG,OAAO,CAACE,YAAY,iBAAiB,CAACF,EAAG,IAAI,CAACiD,MAAM,MAAQrD,EAAI0O,SAAS1O,EAAIkB,KAAmB,SAAblB,EAAI0O,KAAiBtO,EAAG,YAAY,CAACiD,MAAM,CAC/VqL,MAAM,EACN,YAAY,EACZ,aAAc1O,EAAI4O,UAChB5O,EAAIkB,KAAmB,aAAblB,EAAI0O,KAAqBtO,EAAG,gBAAgB,CAACiD,MAAM,CAC/DqL,MAAM,EACN,YAAY,EACZ,aAAc1O,EAAI4O,UAChB5O,EAAIkB,KAAmB,WAAblB,EAAI0O,KAAmBtO,EAAG,cAAc,CAACiD,MAAM,CAC3DqL,MAAM,EACN,YAAY,EACZ,aAAc1O,EAAI4O,UAChB5O,EAAIkB,KAAmB,SAAblB,EAAI0O,KAAiBtO,EAAG,YAAY,CAACiD,MAAM,CACvDqL,MAAM,EACN,YAAY,EACZ,aAAc1O,EAAI4O,UAChB5O,EAAIkB,KAAmB,WAAblB,EAAI0O,KAAmBtO,EAAG,aAAa,CAACiD,MAAM,CAC1DqL,MAAM,EACN,YAAY,EACZ,aAAc1O,EAAI4O,UAChB5O,EAAIkB,KAAmB,YAAblB,EAAI0O,KAAoBtO,EAAG,kBAAkB,CAACiD,MAAM,CAChEqL,MAAM,EACN,YAAY,EACZ,aAAc1O,EAAI4O,UAChB5O,EAAIkB,KAAMlB,EAAU,OAAEI,EAAG,OAAO,CAACiD,MAAM,CACzCwL,MAAM,EACN,kBAAmB7O,EAAI8O,eACtB,CAAC9O,EAAIW,GAAG,IAAIX,EAAIY,GAAGZ,EAAI6O,MAAM,OAAO7O,EAAIkB,MAAM,IACjDwE,EAAkB,G,YCwCtB,GACES,KAAM,cACNC,WAAY,CACV2I,aAAJ,OACIC,SAAJ,OACIC,SAAJ,OACIC,cAAJ,OACIC,UAAJ,OACIC,WAAJ,QAEE9I,MAAO,CACLuI,KAAM,CACJpI,QAAS,GACTF,KAAM8I,QAERvO,MAAO,CACL2F,QAAS,GACTF,KAAM8I,QAERZ,KAAM,CACJhI,QAAS,IAEXiI,KAAM,CACJjI,QAAS,GACTF,KAAM8I,QAERP,aAAc,CACZrI,SAAS,EACTF,KAAMG,UAGVC,SAAU,CACRiI,OADJ,WAEM,OAAO3O,KAAK4O,MAAQ5O,KAAK4O,KAAKrM,OAAS,KCrGsT,I,wBCQ/VqE,EAAY,eACd,EACA9G,EACA2F,GACA,EACA,KACA,WACA,MAIa,OAAAmB,E","file":"js/chunk-6f263348.e6f4f77d.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=style&index=0&id=c359da9c&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=style&index=0&id=e5b09c1e&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLink.vue?vue&type=style&index=0&id=143e1424&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page fixed-page\"},[_c('div',{staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"page-header\"},[(_vm.currentTask)?_c('div',{staticClass:\"flexrow header-title\"},[_c('router-link',{staticClass:\"flexrow-item has-text-centered back-link\",attrs:{\"to\":_vm.entityPage}},[_c('chevron-left-icon')],1),_c('div',{staticClass:\"title flexrow-item\"},[_c('router-link',{attrs:{\"to\":_vm.taskEntityPath}},[_vm._v(\" \"+_vm._s(_vm.currentTask ? _vm.title : 'Loading...')+\" \")])],1),(_vm.currentTaskType)?_c('task-type-name',{staticClass:\"flexrow-item task-type\",attrs:{\"task-type\":_vm.currentTaskType,\"production-id\":_vm.currentProduction.id}}):_vm._e(),(!_vm.isAssigned)?_c('subscribe-button',{staticClass:\"flexrow-item action-button\",attrs:{\"subscribed\":_vm.isAssigned || _vm.isSubscribed},on:{\"click\":_vm.toggleSubscribe}}):_vm._e()],1):_vm._e(),(_vm.currentTask)?_c('div',{staticClass:\"flexrow task-information\"},[_c('span',{staticClass:\"flexrow-item\"},[_vm._v(_vm._s(_vm.$t('tasks.current_status')))]),(_vm.currentTask)?_c('validation-tag',{staticClass:\"is-medium flexrow-item\",attrs:{\"task\":_vm.currentTask,\"is-static\":true}}):_vm._e(),_c('span',{staticClass:\"flexrow-item\"},[_vm._v(_vm._s(_vm.$t('tasks.fields.assignees'))+\":\")]),_vm._l((_vm.currentTask.assignees),function(personId){return _c('span',{key:personId,staticClass:\"flexrow-item avatar-wrapper\"},[_c('people-avatar',{key:personId,staticClass:\"flexrow-item\",attrs:{\"person\":_vm.personMap[personId],\"size\":30,\"font-size\":16}})],1)})],2):_vm._e()]),_c('div',{ref:\"task-columns\",staticClass:\"task-columns\"},[_c('div',{staticClass:\"task-column comments-column\"},[(_vm.currentTask)?_c('div',[_c('div',[(_vm.isCommentingAllowed)?_c('add-comment',{ref:\"add-comment\",attrs:{\"is-loading\":_vm.loading.addComment,\"is-error\":_vm.errors.addComment,\"user\":_vm.user,\"team\":_vm.currentTeam,\"task\":_vm.currentTask,\"task-status\":_vm.taskStatusForCurrentUser,\"attached-file-name\":_vm.attachedFileName},on:{\"add-comment\":_vm.addComment,\"add-preview\":_vm.onAddPreviewClicked,\"duplicate-comment\":_vm.onDuplicateComment,\"file-drop\":_vm.selectFile}}):_vm._e(),(_vm.currentTaskComments && _vm.currentTaskComments.length > 0)?_c('div',{staticClass:\"comments\"},_vm._l((_vm.currentTaskComments),function(comment,index){return _c('comment',{key:comment.id,attrs:{\"comment\":comment,\"task\":_vm.currentTask,\"highlighted\":false,\"current-user\":_vm.user,\"editable\":(\n                comment.person && _vm.user.id === comment.person.id ||\n                _vm.isCurrentUserAdmin\n              ),\"is-first\":index === 0,\"is-last\":index === _vm.pinnedCount},on:{\"ack-comment\":_vm.ackComment,\"pin-comment\":_vm.onPinComment,\"edit-comment\":_vm.onEditComment,\"delete-comment\":_vm.onDeleteComment,\"checklist-updated\":_vm.saveComment}})}),1):_c('div',{staticClass:\"no-comment\"},[_c('em',[_vm._v(\" \"+_vm._s(_vm.$t('tasks.no_comment'))+\" \")])])],1)]):_c('div',{staticClass:\"has-text-centered\"},[_c('spinner')],1)]),_c('div',{staticClass:\"task-column preview-column\"},[_c('div',{staticClass:\"preview-column-content\"},[_c('div',{staticClass:\"flexrow preview-header\"},[_c('h2',{staticClass:\"subtitle flexrow-item\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.preview'))+\" \")]),(_vm.isPreviewButtonVisible)?_c('div',{staticClass:\"set-main-preview flexrow-item flexrow pull-right\"},[(_vm.isPreviews && _vm.isCurrentUserManager)?_c('button',{class:{\n                button: true,\n                'flexrow-item': true,\n                'is-loading': _vm.loading.setPreview\n              },on:{\"click\":_vm.setPreview}},[_c('image-icon',{staticClass:\"icon\"}),_c('span',{staticClass:\"text\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.set_preview'))+\" \")])],1):_vm._e(),(_vm.errors.setPreview)?_c('span',{staticClass:\"error flexrow-item\"},[_vm._v(\" \"+_vm._s(_vm.$t('tasks.set_preview_error'))+\" \")]):_vm._e()]):_vm._e(),(_vm.currentTask && _vm.currentTask.entity && _vm.currentTask.entity.preview_file_id === _vm.currentPreviewId)?_c('div',{staticClass:\"set-main-preview flexrow-item pull-right\"},[_c('em',[_vm._v(_vm._s(_vm.$t('tasks.set_preview_done')))])]):_vm._e()]),(_vm.isPreviews)?_c('div',{staticClass:\"preview-list mt2\"},_vm._l((_vm.currentTaskPreviews),function(preview){return _c('preview-row',{key:preview.id,attrs:{\"preview\":preview,\"preview-path\":_vm.previewPath(preview.id),\"taskId\":_vm.currentTask ? _vm.currentTask.id : '',\"selected\":preview.id === _vm.currentPreviewId}})}),1):_c('div',[_c('em',[_vm._v(\" \"+_vm._s(_vm.$t('tasks.no_preview'))+\" \")])]),_c('div',{staticClass:\"preview-area\"},[(_vm.isPreviews)?_c('div',[(_vm.currentPreview)?_c('preview-player',{ref:\"preview-player\",attrs:{\"previews\":_vm.currentPreview.previews,\"task-type-map\":_vm.taskTypeMap,\"entity-preview-files\":_vm.taskEntityPreviews,\"read-only\":_vm.isCurrentUserArtist,\"last-preview-files\":_vm.lastFivePreviews},on:{\"annotation-changed\":_vm.onAnnotationChanged,\"add-extra-preview\":_vm.onAddExtraPreviewClicked,\"remove-extra-preview\":_vm.onRemoveExtraPreviewClicked,\"change-current-preview\":_vm.changeCurrentPreview}}):_vm._e()],1):_vm._e()])])])]),_c('add-preview-modal',{ref:\"add-preview-modal\",attrs:{\"active\":_vm.modals.addPreview,\"is-loading\":_vm.loading.addPreview,\"is-error\":_vm.errors.addPreview,\"form-data\":_vm.addPreviewFormData},on:{\"cancel\":function($event){_vm.modals.addPreview = false},\"fileselected\":_vm.selectFile,\"confirm\":_vm.closeAddPreviewModal}}),_c('add-preview-modal',{ref:\"add-extra-preview-modal\",attrs:{\"active\":_vm.modals.addExtraPreview,\"is-loading\":_vm.loading.addExtraPreview,\"is-error\":_vm.errors.addExtraPreview,\"form-data\":_vm.addExtraPreviewFormData},on:{\"cancel\":_vm.hideExtraPreviewModal,\"fileselected\":_vm.selectFile,\"confirm\":_vm.createExtraPreview}}),_c('edit-comment-modal',{attrs:{\"active\":_vm.modals.editComment,\"is-loading\":_vm.loading.editComment,\"is-error\":_vm.errors.editComment,\"comment-to-edit\":_vm.commentToEdit,\"team\":_vm.currentTeam},on:{\"confirm\":_vm.confirmEditTaskComment,\"cancel\":_vm.onCancelEditComment}}),_c('delete-modal',{attrs:{\"active\":_vm.modals.deleteComment,\"is-loading\":_vm.loading.deleteComment,\"is-error\":_vm.errors.deleteComment,\"text\":_vm.$t('tasks.delete_comment'),\"error-text\":_vm.$t('tasks.delete_comment_error')},on:{\"confirm\":_vm.confirmDeleteTaskComment,\"cancel\":_vm.onCancelDeleteComment}}),_c('delete-modal',{attrs:{\"active\":_vm.modals.deleteExtraPreview,\"is-loading\":_vm.loading.deleteExtraPreview,\"is-error\":_vm.errors.deleteExtraPreview,\"text\":_vm.$t('tasks.delete_preview'),\"error-text\":_vm.$t('tasks.delete_preview_error')},on:{\"cancel\":_vm.hideRemoveExtraPreviewModal,\"confirm\":_vm.confirmDeleteTaskPreview}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\r\n  'preview-row': true,\r\n  'has-text-center': true,\r\n  selected: _vm.selected\r\n}},[_c('button-link',{attrs:{\"text\":_vm.label,\"path\":_vm.previewPath}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div :class=\"{\r\n  'preview-row': true,\r\n  'has-text-center': true,\r\n  selected: selected\r\n}\">\r\n  <button-link\r\n    :text=\"label\"\r\n    :path=\"previewPath\"\r\n  />\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ButtonLink from '@/components/widgets/ButtonLink.vue'\r\n\r\nexport default {\r\n  name: 'preview-row',\r\n  components: {\r\n    ButtonLink\r\n  },\r\n  props: {\r\n    preview: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    selected: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    previewPath: {\r\n      type: Object,\r\n      default: () => {}\r\n    }\r\n  },\r\n  computed: {\r\n    label () {\r\n      const label = `v${this.preview.revision}`\r\n      return label\r\n    }\r\n  },\r\n  methods: {\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.preview-row {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.preview-row a {\r\n  border: 3px solid $light-grey;\r\n}\r\n\r\n.preview-row:hover a {\r\n  border: 3px solid #E1D4F9;\r\n}\r\n\r\n.preview-row.selected a {\r\n  border: 3px solid #8F91EB;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PreviewRow.vue?vue&type=template&id=e5b09c1e&scoped=true&\"\nimport script from \"./PreviewRow.vue?vue&type=script&lang=js&\"\nexport * from \"./PreviewRow.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PreviewRow.vue?vue&type=style&index=0&id=e5b09c1e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e5b09c1e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"page fixed-page\">\r\n  <div style=\"overflow-y: auto;\">\r\n    <div class=\"page-header\">\r\n      <div\r\n        class=\"flexrow header-title\"\r\n        v-if=\"currentTask\"\r\n      >\r\n        <router-link\r\n          :to=\"entityPage\"\r\n          class=\"flexrow-item has-text-centered back-link\"\r\n        >\r\n          <chevron-left-icon />\r\n        </router-link>\r\n        <div class=\"title flexrow-item\">\r\n          <router-link :to=\"taskEntityPath\">\r\n            {{ currentTask ? title : 'Loading...'}}\r\n          </router-link>\r\n        </div>\r\n        <task-type-name\r\n          class=\"flexrow-item task-type\"\r\n          :task-type=\"currentTaskType\"\r\n          :production-id=\"currentProduction.id\"\r\n          v-if=\"currentTaskType\"\r\n        />\r\n        <subscribe-button\r\n          class=\"flexrow-item action-button\"\r\n          :subscribed=\"isAssigned || isSubscribed\"\r\n          @click=\"toggleSubscribe\"\r\n          v-if=\"!isAssigned\"\r\n        />\r\n      </div>\r\n\r\n      <div\r\n        class=\"flexrow task-information\"\r\n        v-if=\"currentTask\"\r\n      >\r\n        <span class=\"flexrow-item\">{{ $t('tasks.current_status') }}</span>\r\n        <validation-tag\r\n          class=\"is-medium flexrow-item\"\r\n          :task=\"currentTask\"\r\n          :is-static=\"true\"\r\n          v-if=\"currentTask\"\r\n        />\r\n        <span class=\"flexrow-item\">{{ $t('tasks.fields.assignees') }}:</span>\r\n        <span\r\n          class=\"flexrow-item avatar-wrapper\"\r\n          :key=\"personId\"\r\n          v-for=\"personId in currentTask.assignees\"\r\n        >\r\n          <people-avatar\r\n            class=\"flexrow-item\"\r\n            :key=\"personId\"\r\n            :person=\"personMap[personId]\"\r\n            :size=\"30\"\r\n            :font-size=\"16\"\r\n          />\r\n       </span>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"task-columns\" ref=\"task-columns\">\r\n      <div class=\"task-column comments-column\">\r\n        <div v-if=\"currentTask\">\r\n          <div>\r\n            <add-comment\r\n              ref=\"add-comment\"\r\n              :is-loading=\"loading.addComment\"\r\n              :is-error=\"errors.addComment\"\r\n              :user=\"user\"\r\n              :team=\"currentTeam\"\r\n              :task=\"currentTask\"\r\n              :task-status=\"taskStatusForCurrentUser\"\r\n              :attached-file-name=\"attachedFileName\"\r\n              @add-comment=\"addComment\"\r\n              @add-preview=\"onAddPreviewClicked\"\r\n              @duplicate-comment=\"onDuplicateComment\"\r\n              @file-drop=\"selectFile\"\r\n              v-if=\"isCommentingAllowed\"\r\n            />\r\n            <div\r\n              class=\"comments\"\r\n              v-if=\"currentTaskComments && currentTaskComments.length > 0\"\r\n            >\r\n              <comment\r\n                :comment=\"comment\"\r\n                :task=\"currentTask\"\r\n                :highlighted=\"false\"\r\n                :key=\"comment.id\"\r\n                :current-user=\"user\"\r\n                :editable=\"(\r\n                  comment.person && user.id === comment.person.id ||\r\n                  isCurrentUserAdmin\r\n                )\"\r\n                :is-first=\"index === 0\"\r\n                :is-last=\"index === pinnedCount\"\r\n                @ack-comment=\"ackComment\"\r\n                @pin-comment=\"onPinComment\"\r\n                @edit-comment=\"onEditComment\"\r\n                @delete-comment=\"onDeleteComment\"\r\n                @checklist-updated=\"saveComment\"\r\n                v-for=\"(comment, index) in currentTaskComments\"\r\n              />\r\n            </div>\r\n            <div class=\"no-comment\" v-else>\r\n              <em>\r\n                {{ $t('tasks.no_comment')}}\r\n              </em>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"has-text-centered\" v-else>\r\n          <spinner />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"task-column preview-column\">\r\n        <div class=\"preview-column-content\">\r\n          <div class=\"flexrow preview-header\">\r\n            <h2 class=\"subtitle flexrow-item\">\r\n              {{ $t('tasks.preview') }}\r\n            </h2>\r\n            <div\r\n              class=\"set-main-preview flexrow-item flexrow pull-right\"\r\n              v-if=\"isPreviewButtonVisible\"\r\n            >\r\n              <button\r\n                :class=\"{\r\n                  button: true,\r\n                  'flexrow-item': true,\r\n                  'is-loading': loading.setPreview\r\n                }\"\r\n                @click=\"setPreview\"\r\n                v-if=\"isPreviews && isCurrentUserManager\"\r\n              >\r\n                <image-icon class=\"icon\" />\r\n                <span class=\"text\">\r\n                  {{ $t('tasks.set_preview') }}\r\n                </span>\r\n              </button>\r\n              <span class=\"error flexrow-item\" v-if=\"errors.setPreview\">\r\n                {{ $t('tasks.set_preview_error') }}\r\n              </span>\r\n            </div>\r\n            <div\r\n              class=\"set-main-preview flexrow-item pull-right\"\r\n              v-if=\"currentTask && currentTask.entity && currentTask.entity.preview_file_id === currentPreviewId\">\r\n              <em>{{ $t('tasks.set_preview_done') }}</em>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            class=\"preview-list mt2\"\r\n            v-if=\"isPreviews\"\r\n          >\r\n            <preview-row\r\n              :key=\"preview.id\"\r\n              :preview=\"preview\"\r\n              :preview-path=\"previewPath(preview.id)\"\r\n              :taskId=\"currentTask ? currentTask.id : ''\"\r\n              :selected=\"preview.id === currentPreviewId\"\r\n              v-for=\"preview in currentTaskPreviews\"\r\n            />\r\n          </div>\r\n          <div v-else>\r\n            <em>\r\n              {{ $t('tasks.no_preview')}}\r\n            </em>\r\n          </div>\r\n\r\n          <div class=\"preview-area\">\r\n            <div\r\n              v-if=\"isPreviews\"\r\n            >\r\n              <preview-player\r\n                :previews=\"currentPreview.previews\"\r\n                :task-type-map=\"taskTypeMap\"\r\n                :entity-preview-files=\"taskEntityPreviews\"\r\n                :read-only=\"isCurrentUserArtist\"\r\n                :last-preview-files=\"lastFivePreviews\"\r\n                @annotation-changed=\"onAnnotationChanged\"\r\n                @add-extra-preview=\"onAddExtraPreviewClicked\"\r\n                @remove-extra-preview=\"onRemoveExtraPreviewClicked\"\r\n                @change-current-preview=\"changeCurrentPreview\"\r\n                ref=\"preview-player\"\r\n                v-if=\"currentPreview\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <add-preview-modal\r\n      ref=\"add-preview-modal\"\r\n      :active=\"modals.addPreview\"\r\n      :is-loading=\"loading.addPreview\"\r\n      :is-error=\"errors.addPreview\"\r\n      :form-data=\"addPreviewFormData\"\r\n      @cancel=\"modals.addPreview = false\"\r\n      @fileselected=\"selectFile\"\r\n      @confirm=\"closeAddPreviewModal\"\r\n    />\r\n\r\n    <add-preview-modal\r\n      ref=\"add-extra-preview-modal\"\r\n      :active=\"modals.addExtraPreview\"\r\n      :is-loading=\"loading.addExtraPreview\"\r\n      :is-error=\"errors.addExtraPreview\"\r\n      :form-data=\"addExtraPreviewFormData\"\r\n      @cancel=\"hideExtraPreviewModal\"\r\n      @fileselected=\"selectFile\"\r\n      @confirm=\"createExtraPreview\"\r\n    />\r\n\r\n    <edit-comment-modal\r\n      :active=\"modals.editComment\"\r\n      :is-loading=\"loading.editComment\"\r\n      :is-error=\"errors.editComment\"\r\n      :comment-to-edit=\"commentToEdit\"\r\n      :team=\"currentTeam\"\r\n      @confirm=\"confirmEditTaskComment\"\r\n      @cancel=\"onCancelEditComment\"\r\n    />\r\n\r\n    <delete-modal\r\n      :active=\"modals.deleteComment\"\r\n      :is-loading=\"loading.deleteComment\"\r\n      :is-error=\"errors.deleteComment\"\r\n      :text=\"$t('tasks.delete_comment')\"\r\n      :error-text=\"$t('tasks.delete_comment_error')\"\r\n      @confirm=\"confirmDeleteTaskComment\"\r\n      @cancel=\"onCancelDeleteComment\"\r\n    />\r\n\r\n    <delete-modal\r\n      :active=\"modals.deleteExtraPreview\"\r\n      :is-loading=\"loading.deleteExtraPreview\"\r\n      :is-error=\"errors.deleteExtraPreview\"\r\n      :text=\"$t('tasks.delete_preview')\"\r\n      :error-text=\"$t('tasks.delete_preview_error')\"\r\n      @cancel=\"hideRemoveExtraPreviewModal\"\r\n      @confirm=\"confirmDeleteTaskPreview\"\r\n    />\r\n  </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport {\r\n  ChevronLeftIcon,\r\n  ImageIcon\r\n} from 'vue-feather-icons'\r\n\r\nimport AddComment from '../widgets/AddComment'\r\nimport AddPreviewModal from '../modals/AddPreviewModal'\r\nimport Comment from '../widgets/Comment'\r\nimport DeleteModal from '../modals/DeleteModal'\r\nimport EditCommentModal from '../modals/EditCommentModal'\r\nimport PeopleAvatar from '../widgets/PeopleAvatar'\r\nimport PreviewRow from '../widgets/PreviewRow'\r\nimport Spinner from '../widgets/Spinner'\r\nimport SubscribeButton from '../widgets/SubscribeButton'\r\nimport TaskTypeName from '../widgets/TaskTypeName'\r\nimport ValidationTag from '../widgets/ValidationTag'\r\nimport PreviewPlayer from '../previews/PreviewPlayer'\r\n\r\nexport default {\r\n  name: 'task',\r\n  components: {\r\n    AddComment,\r\n    AddPreviewModal,\r\n    Comment,\r\n    ChevronLeftIcon,\r\n    DeleteModal,\r\n    EditCommentModal,\r\n    ImageIcon,\r\n    PeopleAvatar,\r\n    PreviewRow,\r\n    PreviewPlayer,\r\n    Spinner,\r\n    SubscribeButton,\r\n    TaskTypeName,\r\n    ValidationTag\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      attachedFileName: '',\r\n      entityPage: this.getEntityPage(),\r\n      selectedTab: 'validation',\r\n      taskLoading: {\r\n        isLoading: true,\r\n        isError: false\r\n      },\r\n      modals: {\r\n        addPreview: false,\r\n        addExtraPreview: false,\r\n        deleteExtraPreview: false,\r\n        deleteTask: false,\r\n        deleteComment: false,\r\n        editComment: false\r\n      },\r\n      loading: {\r\n        addComment: false,\r\n        addPreview: false,\r\n        addExtraPreview: false,\r\n        setPreview: false,\r\n        deleteTask: false,\r\n        deleteComment: false,\r\n        editComment: false\r\n      },\r\n      errors: {\r\n        addComment: false,\r\n        addPreview: false,\r\n        addExtraPreview: false,\r\n        setPreview: false,\r\n        deleteTask: false,\r\n        deleteComment: false,\r\n        editComment: false\r\n      },\r\n      currentTask: null,\r\n      currentTaskComments: [],\r\n      currentTaskPreviews: [],\r\n      commentToEdit: null,\r\n      addPreviewFormData: null,\r\n      addExtraPreviewFormData: null,\r\n      isSubscribed: false\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this.clearSelectedTasks()\r\n    this.loadTaskData()\r\n  },\r\n\r\n  mounted () {\r\n    this.reset()\r\n    this.$nextTick(() => {\r\n      if (this.$refs['task-columns']) {\r\n        this.$refs['task-columns'].scrollTop = 100\r\n        window.scrollTo(0, 0)\r\n      }\r\n    })\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentEpisode',\r\n      'currentProduction',\r\n      'displayedShots',\r\n      'displayedAssets',\r\n      'getTaskComments',\r\n      'getTaskPreviews',\r\n      'getTaskComment',\r\n      'isCurrentUserAdmin',\r\n      'isCurrentUserArtist',\r\n      'isCurrentUserManager',\r\n      'isSingleEpisode',\r\n      'isTVShow',\r\n      'personMap',\r\n      'productionMap',\r\n      'route',\r\n      'taskEntityPreviews',\r\n      'taskStatus',\r\n      'taskStatusForCurrentUser',\r\n      'taskMap',\r\n      'taskTypeMap',\r\n      'user'\r\n    ]),\r\n\r\n    isPreviewButtonVisible () {\r\n      return (\r\n        this.currentTask &&\r\n        this.currentTask.entity &&\r\n        this.currentTask.entity.preview_file_id !== this.currentPreviewId &&\r\n        ['png', 'mp4'].includes(this.extension)\r\n      )\r\n    },\r\n\r\n    extension () {\r\n      return this.currentPreview ? this.currentPreview.extension : ''\r\n    },\r\n\r\n    currentPreviewId () {\r\n      return this.currentPreview ? this.currentPreview.id : ''\r\n    },\r\n\r\n    currentPreview () {\r\n      if (this.isPreviews) {\r\n        let currentPreview = this.currentTaskPreviews[0]\r\n        const previewId = this.route.params.preview_id\r\n        if (previewId) {\r\n          currentPreview = this.currentTaskPreviews.find((preview) => {\r\n            return preview.id === previewId\r\n          })\r\n        }\r\n        return currentPreview\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n\r\n    isCommentingAllowed () {\r\n      return this.isCurrentUserManager || this.currentTask.assignees.find(\r\n        (personId) => personId === this.user.id\r\n      )\r\n    },\r\n\r\n    taskTypeBorder () {\r\n      let border = 'transparent'\r\n      if (this.currentTask) border = this.currentTask.task_type_color\r\n      return {\r\n        'border-left': `4px solid ${border}`\r\n      }\r\n    },\r\n\r\n    deleteTaskPath () {\r\n      return this.taskPath(this.currentTask, 'task-delete')\r\n    },\r\n\r\n    isPreviews () {\r\n      return this.currentTaskPreviews && this.currentTaskPreviews.length > 0\r\n    },\r\n\r\n    taskEntityPath () {\r\n      if (this.currentTask) {\r\n        const type = this.currentTask.entity_type_name\r\n        let entityId = ''\r\n        if (this.currentTask.entity) {\r\n          entityId = this.currentTask.entity.id\r\n        } else {\r\n          entityId = this.currentTask.entity_id\r\n        }\r\n\r\n        const route = {\r\n          name: type === 'Shot' ? 'shot' : 'asset',\r\n          params: {\r\n            production_id: this.currentTask.project_id\r\n          }\r\n        }\r\n\r\n        if (type === 'Shot') {\r\n          route.params.shot_id = entityId\r\n        } else {\r\n          route.params.asset_id = entityId\r\n        }\r\n\r\n        if (this.$route.params.episode_id) {\r\n          route.name = `episode-${route.name}`\r\n          route.params.episode_id = this.$route.params.episode_id\r\n        }\r\n\r\n        return route\r\n      } else {\r\n        return {\r\n          name: 'open-productions'\r\n        }\r\n      }\r\n    },\r\n\r\n    lastFivePreviews () {\r\n      if (this.currentTaskPreviews) {\r\n        return this.currentTaskPreviews.slice(0, 5)\r\n      } else {\r\n        return []\r\n      }\r\n    },\r\n\r\n    entityList () {\r\n      const entity = this.displayedShots.find((entity) => {\r\n        return entity.id === this.currentTask.entity_id\r\n      })\r\n      if (entity) {\r\n        return this.displayedShots\r\n      } else {\r\n        return this.displayedAssets\r\n      }\r\n    },\r\n\r\n    previousEntity () {\r\n      if (this.currentTask) {\r\n        const taskTypeId = this.currentTask.task_type_id\r\n        const entityIndex = this.entityList.findIndex((entity) => {\r\n          return entity.id === this.currentTask.entity_id\r\n        })\r\n        let firstTraversal = false\r\n\r\n        let previousEntityIndex = entityIndex - 1\r\n        if (previousEntityIndex < 0) {\r\n          previousEntityIndex = this.entityList.length - 1\r\n        }\r\n\r\n        let taskId = null\r\n        while (!taskId) {\r\n          if (this.entityList[previousEntityIndex]) {\r\n            const entity = this.entityList[previousEntityIndex]\r\n            taskId = entity.tasks.find((ctaskId) => {\r\n              const task = this.taskMap[ctaskId]\r\n              if (task) {\r\n                return task.task_type_id === taskTypeId\r\n              } else {\r\n                return false\r\n              }\r\n            })\r\n          } else {\r\n            taskId = this.currentTask.id\r\n          }\r\n\r\n          if (!taskId) {\r\n            previousEntityIndex--\r\n            if (previousEntityIndex < 0) {\r\n              previousEntityIndex = this.entityList.length\r\n              if (firstTraversal) {\r\n                return null\r\n              }\r\n              firstTraversal = true\r\n            }\r\n          }\r\n        }\r\n\r\n        return this.taskPath({ id: taskId })\r\n      } else {\r\n        return {\r\n          name: 'open-productions'\r\n        }\r\n      }\r\n    },\r\n\r\n    nextEntity () {\r\n      if (this.currentTask) {\r\n        const taskTypeId = this.currentTask.task_type_id\r\n        let firstTraversal = false\r\n        const entityIndex = this.entityList.findIndex((entity) => {\r\n          return entity.id === this.currentTask.entity_id\r\n        })\r\n\r\n        let nextEntityIndex = entityIndex + 1\r\n        if (nextEntityIndex >= this.entityList.length) {\r\n          nextEntityIndex = 0\r\n        }\r\n\r\n        let taskId = null\r\n        while (!taskId) {\r\n          if (this.entityList[nextEntityIndex]) {\r\n            const entity = this.entityList[nextEntityIndex]\r\n            taskId = entity.tasks.find((ctaskId) => {\r\n              const task = this.taskMap[ctaskId]\r\n              if (task) {\r\n                return task.task_type_id === taskTypeId\r\n              } else {\r\n                return false\r\n              }\r\n            })\r\n          } else {\r\n            taskId = this.currentTask.id\r\n          }\r\n\r\n          if (!taskId) {\r\n            nextEntityIndex++\r\n            if (nextEntityIndex >= this.entityList.length) {\r\n              nextEntityIndex = 0\r\n\r\n              if (firstTraversal) {\r\n                return null\r\n              }\r\n              firstTraversal = true\r\n            }\r\n          }\r\n        }\r\n\r\n        return this.taskPath({ id: taskId })\r\n      } else {\r\n        return {\r\n          name: 'open-productions'\r\n        }\r\n      }\r\n    },\r\n\r\n    previewPlayer () {\r\n      return this.$refs['preview-player']\r\n    },\r\n\r\n    title () {\r\n      if (this.currentTask) {\r\n        const type = this.currentTask.entity_type_name\r\n        let entityName =\r\n          this.currentTask.full_entity_name || this.currentTask.entity_name\r\n        if (this.isTVShow && type === 'Shot') {\r\n          entityName = entityName\r\n            .split('/')\r\n            .splice(1)\r\n            .join('/')\r\n        }\r\n        return `${entityName}`\r\n      } else {\r\n        return 'Loading...'\r\n      }\r\n    },\r\n\r\n    windowTitle () {\r\n      if (this.currentTask) {\r\n        const taskTypeName = this.currentTask.task_type_name\r\n        return `${this.title} / ${taskTypeName}`\r\n      } else {\r\n        return 'Loading...'\r\n      }\r\n    },\r\n\r\n    deleteText () {\r\n      if (this.currentTask) {\r\n        const taskType = this.taskTypeMap[this.currentTask.task_type_id]\r\n        return this.$t('main.delete_text', {\r\n          name: `${this.currentTask.entity_name} / ${taskType.name}`\r\n        })\r\n      } else {\r\n        return ''\r\n      }\r\n    },\r\n\r\n    isAssigned () {\r\n      if (this.currentTask) {\r\n        return this.currentTask.assignees.some((assigneeId) => {\r\n          return assigneeId === this.user.id\r\n        })\r\n      } else {\r\n        return false\r\n      }\r\n    },\r\n\r\n    currentTaskType () {\r\n      if (this.currentTask) {\r\n        return this.taskTypeMap[this.currentTask.task_type_id]\r\n      } else {\r\n        return null\r\n      }\r\n    },\r\n\r\n    currentTeam () {\r\n      return this.currentProduction.team.map(id => this.personMap[id])\r\n    },\r\n\r\n    pinnedCount () {\r\n      return this.currentTaskComments.filter(c => c.pinned).length\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions([\r\n      'ackComment',\r\n      'addCommentPreview',\r\n      'addCommentExtraPreview',\r\n      'commentTask',\r\n      'commentTaskWithPreview',\r\n      'changeCommentPreview',\r\n      'clearSelectedTasks',\r\n      'deleteTask',\r\n      'deleteTaskPreview',\r\n      'deleteTaskComment',\r\n      'editTaskComment',\r\n      'loadEpisodes',\r\n      'loadTask',\r\n      'loadShots',\r\n      'loadAssets',\r\n      'loadPreviewFileFormData',\r\n      'loadTaskComments',\r\n      'loadTaskSubscribed',\r\n      'refreshPreview',\r\n      'pinComment',\r\n      'subscribeToTask',\r\n      'setCurrentEpisode',\r\n      'unsubscribeFromTask',\r\n      'updatePreviewAnnotation'\r\n    ]),\r\n\r\n    getEntityPage () {\r\n      if (this.currentTask) {\r\n        const route = {\r\n          name: this.$route.params.type,\r\n          params: { production_id: this.currentTask.project_id }\r\n        }\r\n\r\n        if (route.name === 'asset') {\r\n          route.params.asset_id = this.currentTask.entity_id\r\n        } else {\r\n          route.params.shot_id = this.currentTask.entity_id\r\n        }\r\n\r\n        if (this.isTVShow) {\r\n          route.name = `episode-${route.name}`\r\n          route.params.episode_id =\r\n            this.currentEpisode ? this.currentEpisode.id : this.$route.params.episode_id\r\n        }\r\n        return route\r\n      } else {\r\n        return {\r\n          name: 'open-productions'\r\n        }\r\n      }\r\n    },\r\n\r\n    loadTaskData () {\r\n      const task = this.getCurrentTask()\r\n      if (!task) {\r\n        this.taskLoading = { isLoading: true, isError: false }\r\n        this.loadTask({ taskId: this.route.params.task_id })\r\n          .then(task => {\r\n            let loadingFunction = (callback) => {\r\n              this.loadAssets()\r\n                .then(callback)\r\n            }\r\n\r\n            if (task.entity_type_name === 'Shot') {\r\n              loadingFunction = (callback) => {\r\n                this.loadEpisodes()\r\n                  .then(() => {\r\n                    if (this.isTVShow) {\r\n                      this.setCurrentEpisode(task.episode.id)\r\n                    }\r\n                    this.loadShots(callback)\r\n                  })\r\n                  .catch(callback)\r\n              }\r\n            }\r\n            loadingFunction(() => {\r\n              this.currentTask = task\r\n              this.loadTaskComments({\r\n                taskId: task.id,\r\n                entityId: task.entity_id\r\n              })\r\n                .then(() => this.loadTaskSubscribed({ taskId: task.id }))\r\n                .then((subscribed) => {\r\n                  this.isSubscribed = subscribed\r\n                  this.reset()\r\n                  this.entityPage = this.getEntityPage()\r\n                  this.taskLoading = { isLoading: false, isError: false }\r\n                }).catch((err) => {\r\n                  console.error(err)\r\n                  this.taskLoading = { isLoading: false, isError: true }\r\n                })\r\n            })\r\n          })\r\n      } else {\r\n        const taskId = this.route.params.task_id\r\n        this.currentTask = task\r\n        this.loadTaskComments({ taskId, entityId: task.entity_id })\r\n          .then(() => this.loadTaskSubscribed({ taskId }))\r\n          .then(subscribed => {\r\n            this.isSubscribed = subscribed\r\n            this.currentTaskComments = this.getCurrentTaskComments()\r\n            this.currentTaskPreviews = this.getCurrentTaskPreviews()\r\n            this.entityPage = this.getEntityPage()\r\n          })\r\n          .catch(err => {\r\n            console.error(err)\r\n            this.taskLoading.isError = true\r\n          })\r\n      }\r\n    },\r\n\r\n    getCurrentTask () {\r\n      return this.taskMap[this.route.params.task_id]\r\n    },\r\n\r\n    getCurrentComment () {\r\n      if (this.route.params.comment_id) {\r\n        return this.getTaskComment(\r\n          this.route.params.task_id,\r\n          this.route.params.comment_id\r\n        )\r\n      }\r\n    },\r\n\r\n    getCurrentTaskComments () {\r\n      return this.getTaskComments(this.route.params.task_id)\r\n    },\r\n\r\n    getCurrentTaskPreviews () {\r\n      return this.getTaskPreviews(this.route.params.task_id)\r\n    },\r\n\r\n    addComment (comment, attachment, checklist, taskStatusId) {\r\n      const params = {\r\n        taskId: this.currentTask.id,\r\n        taskStatusId: taskStatusId,\r\n        comment: comment,\r\n        checklist,\r\n        attachment\r\n      }\r\n      let action = 'commentTask'\r\n      if (this.attachedFileName) action = 'commentTaskWithPreview'\r\n      this.loading.addComment = true\r\n      this.errors.addComment = false\r\n      this.$store.dispatch(action, params)\r\n        .then(() => {\r\n          this.currentTaskPreviews = this.getCurrentTaskPreviews()\r\n          this.resetPreview()\r\n          this.$refs['add-preview-modal'].reset()\r\n          this.reset()\r\n          this.attachedFileName = ''\r\n          this.loading.addComment = false\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.errors.addComment = true\r\n          this.loading.addComment = false\r\n        })\r\n    },\r\n\r\n    reset () {\r\n      this.currentTaskComments = this.getCurrentTaskComments()\r\n      this.currentTaskPreviews = this.getCurrentTaskPreviews()\r\n      this.currentTask = this.getCurrentTask()\r\n    },\r\n\r\n    selectFile (forms) {\r\n      this.loadPreviewFileFormData(forms)\r\n      this.attachedFileName = forms\r\n        .map((form) => form.get('file').name)\r\n        .join(', ')\r\n    },\r\n\r\n    isHighlighted (comment) {\r\n      return comment.preview && comment.preview.id === this.currentPreviewId\r\n    },\r\n\r\n    createExtraPreview () {\r\n      const previews = this.currentTaskPreviews\r\n      const preview = previews.length > 0 ? previews[0] : null\r\n      this.errors.addExtraPreview = false\r\n      this.loading.addExtraPreview = true\r\n      const comment = this.getCurrentTaskComments().find((comment) => {\r\n        return comment.previews.findIndex((p) => p.id === preview.id) >= 0\r\n      })\r\n      this.addCommentExtraPreview({\r\n        taskId: this.currentTask.id,\r\n        previewId: this.currentPreview.id,\r\n        commentId: comment.id\r\n      })\r\n        .then(() => {\r\n          this.loading.addExtraPreview = false\r\n          this.modals.addExtraPreview = false\r\n          this.$refs['add-extra-preview-modal'].reset()\r\n          setTimeout(() => {\r\n            this.previewPlayer.displayLast()\r\n          }, 0)\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.errors.addExtraPreview = true\r\n          this.loading.addExtraPreview = false\r\n        })\r\n    },\r\n\r\n    resetPreview (changeRoute = true) {\r\n      const previews = this.currentTaskPreviews\r\n      const preview = previews.length > 0 ? previews[0] : null\r\n      this.currentTaskComments = this.getCurrentTaskComments()\r\n      this.currentTaskPreviews = this.getCurrentTaskPreviews()\r\n      if (preview && changeRoute) {\r\n        this.$router.push(this.previewPath(preview.id))\r\n      }\r\n    },\r\n\r\n    setPreview () {\r\n      this.loading.setPreview = true\r\n      this.errors.setPreview = false\r\n      this.$store.dispatch('setPreview', {\r\n        taskId: this.currentTask.id,\r\n        entityId: this.currentTask.entity.id,\r\n        previewId: this.currentPreviewId\r\n      })\r\n        .then(() => {\r\n          this.loading.setPreview = false\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.errors.setPreview = true\r\n        })\r\n    },\r\n\r\n    confirmEditTaskComment (comment) {\r\n      this.loading.editComment = true\r\n      this.errors.editComment = false\r\n      this.editTaskComment({\r\n        taskId: this.currentTask.id,\r\n        comment\r\n      })\r\n        .then(() => {\r\n          this.loading.editComment = false\r\n          this.modals.editComment = false\r\n        })\r\n        .catch(err => {\r\n          console.error(err)\r\n          this.errors.editComment = true\r\n        })\r\n    },\r\n\r\n    saveComment (comment, checklist) {\r\n      this.editTaskComment({\r\n        taskId: this.currentTask.id,\r\n        comment,\r\n        checklist\r\n      })\r\n    },\r\n\r\n    confirmDeleteTaskComment () {\r\n      this.loading.deleteComment = true\r\n      this.errors.deleteComment = false\r\n      const commentId = this.commentToEdit.id\r\n\r\n      this.deleteTaskComment({\r\n        taskId: this.currentTask.id,\r\n        commentId\r\n      })\r\n        .then(() => {\r\n          this.loading.deleteComment = false\r\n          this.reset()\r\n          if (this.isPreviews) this.resetPreview()\r\n          this.modals.deleteComment = false\r\n        })\r\n        .catch(err => {\r\n          console.error(err)\r\n          this.loading.deleteComment = false\r\n          this.errors.deleteComment = true\r\n        })\r\n    },\r\n\r\n    confirmDeleteTaskPreview () {\r\n      this.loading.deleteExtraPreview = true\r\n      this.errors.deleteExtraPreview = false\r\n      const previewId = this.currentPreviewId\r\n      const comment = this.getCurrentTaskComments().find((comment) => {\r\n        return comment.previews.findIndex((p) => p.id === previewId) >= 0\r\n      })\r\n\r\n      this.previewPlayer.displayFirst()\r\n      this.deleteTaskPreview({\r\n        taskId: this.currentTask.id,\r\n        commentId: comment.id,\r\n        previewId: this.currentExtraPreviewId\r\n      })\r\n        .then(() => {\r\n          this.loading.deleteExtraPreview = false\r\n          this.resetPreview()\r\n          this.hideRemoveExtraPreviewModal()\r\n        })\r\n        .catch((err) => {\r\n          console.error(err)\r\n          this.loading.deleteExtraPreview = false\r\n          this.errors.deleteExtraPreview = true\r\n        })\r\n    },\r\n\r\n    onPreviewAdded (eventData) {\r\n      const taskId = eventData.task_id\r\n      const commentId = eventData.comment_id\r\n      const previewId = eventData.preview_file_id\r\n      const revision = eventData.revision\r\n      const extension = eventData.extension\r\n      const comment = this.$store.getters.getTaskComment(taskId, commentId)\r\n\r\n      if (\r\n        this.currentTask &&\r\n        comment &&\r\n        (\r\n          comment.previews.length === 0 ||\r\n          comment.previews[0].id !== previewId\r\n        ) &&\r\n        taskId === this.currentTask.id\r\n      ) {\r\n        this.$store.commit('ADD_PREVIEW_END', {\r\n          preview: {\r\n            id: previewId,\r\n            revision,\r\n            extension: extension\r\n          },\r\n          taskId,\r\n          commentId,\r\n          comment\r\n        })\r\n        this.resetPreview()\r\n      }\r\n    },\r\n\r\n    toggleSubscribe () {\r\n      if (this.currentTask && !this.isAssigned) {\r\n        if (this.isSubscribed) {\r\n          this.unsubscribeFromTask(this.currentTask.id)\r\n          this.isSubscribed = false\r\n        } else {\r\n          this.subscribeToTask(this.currentTask.id)\r\n          this.isSubscribed = true\r\n        }\r\n      }\r\n    },\r\n\r\n    taskPath (task, section = 'task') {\r\n      if (!task) {\r\n        task = this.currentTask\r\n      } else {\r\n        task.project_id = this.currentTask.project_id\r\n        task.episode_id = this.currentTask.episode_id\r\n      }\r\n\r\n      let route = { name: 'open-productions' }\r\n      if (task) {\r\n        route = {\r\n          name: section,\r\n          params: {\r\n            production_id: task.project_id,\r\n            task_id: task.id\r\n          }\r\n        }\r\n\r\n        if (this.isTVShow && this.currentEpisode) {\r\n          route.name = `episode-${section}`\r\n          route.params.episode_id = task.episode_id || this.currentEpisode.id\r\n        }\r\n      }\r\n      return route\r\n    },\r\n\r\n    previewPath (previewId) {\r\n      const route = this.taskPath(this.currentTask, 'task-preview')\r\n\r\n      if (route.params) {\r\n        route.params.preview_id = previewId\r\n      }\r\n      return route\r\n    },\r\n\r\n    onAnnotationChanged ({ preview, annotations }) {\r\n      const taskId = this.currentTask.id\r\n      this.updatePreviewAnnotation({ taskId, preview, annotations })\r\n    },\r\n\r\n    onAddExtraPreviewClicked () {\r\n      this.modals.addExtraPreview = true\r\n    },\r\n\r\n    onRemoveExtraPreviewClicked (preview) {\r\n      this.showRemoveExtraPreviewModal(preview)\r\n    },\r\n\r\n    hideExtraPreviewModal () {\r\n      this.modals.addExtraPreview = false\r\n    },\r\n\r\n    showRemoveExtraPreviewModal (preview) {\r\n      this.currentExtraPreviewId = preview.id\r\n      this.modals.deleteExtraPreview = true\r\n    },\r\n\r\n    hideRemoveExtraPreviewModal () {\r\n      this.modals.deleteExtraPreview = false\r\n    },\r\n\r\n    onAddPreviewClicked () {\r\n      this.modals.addPreview = true\r\n    },\r\n\r\n    closeAddPreviewModal () {\r\n      this.modals.addPreview = false\r\n    },\r\n\r\n    onDuplicateComment (comment) {\r\n      this.$refs['add-comment'].setValue(comment)\r\n    },\r\n\r\n    onPinComment (comment) {\r\n      this.pinComment(comment)\r\n    },\r\n\r\n    onEditComment (comment) {\r\n      this.commentToEdit = comment\r\n      this.modals.editComment = true\r\n    },\r\n\r\n    onDeleteComment (comment) {\r\n      this.commentToEdit = comment\r\n      this.modals.deleteComment = true\r\n    },\r\n\r\n    onCancelEditComment (comment) {\r\n      this.modals.editComment = false\r\n    },\r\n\r\n    onCancelDeleteComment (comment) {\r\n      this.modals.deleteComment = false\r\n    },\r\n\r\n    changeCurrentPreview (preview) {\r\n      this.$router.push(this.previewPath(preview.id))\r\n    },\r\n\r\n    onRemoteAcknowledge (eventData, type) {\r\n      if (this.currentTask) {\r\n        const comment = this.currentTaskComments.find(\r\n          c => c.id === eventData.comment_id\r\n        )\r\n        const user = this.personMap[eventData.person_id]\r\n        if (comment && user) {\r\n          if (this.user.id === user.id) {\r\n            if (\r\n              (\r\n                type === 'ack' &&\r\n                !comment.acknowledgements.includes(user.id)\r\n              ) ||\r\n              (\r\n                type === 'unack' &&\r\n                comment.acknowledgements.includes(user.id)\r\n              )\r\n            ) {\r\n              this.$store.commit('ACK_COMMENT', { comment, user })\r\n            }\r\n          } else {\r\n            this.$store.commit('ACK_COMMENT', { comment, user })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    $route () {\r\n      if (this.$route.params.task_id !== this.currentTask.id) {\r\n        this.loadTaskData()\r\n      }\r\n    }\r\n  },\r\n\r\n  socket: {\r\n    events: {\r\n      'preview-file:add-file' (eventData) {\r\n        this.onPreviewAdded(eventData)\r\n      },\r\n\r\n      'preview-file:update' (eventData) {\r\n        if (!this.currentTaskPreviews) return\r\n        const preview = this.currentTaskPreviews.filter((preview) => {\r\n          return preview.id === eventData.preview_file_id\r\n        })\r\n        if (preview) {\r\n          this.refreshPreview({\r\n            taskId: this.currentTask.id,\r\n            previewId: eventData.preview_file_id\r\n          }).then(() => {\r\n            this.taskPreviews = this.getCurrentTaskPreviews()\r\n          })\r\n        }\r\n      },\r\n\r\n      'comment:acknowledge' (eventData) {\r\n        this.onRemoteAcknowledge(eventData, 'ack')\r\n      },\r\n\r\n      'comment:unacknowledge' (eventData) {\r\n        this.onRemoteAcknowledge(eventData, 'unack')\r\n      }\r\n    }\r\n  },\r\n\r\n  metaInfo () {\r\n    let title = 'Loading task... - Kitsu'\r\n    if (this.currentTask) {\r\n      const taskTypeName = this.taskTypeMap[this.currentTask.task_type_id].name\r\n      title = `${this.title} / ${taskTypeName} - Kitsu`\r\n    }\r\n    return { title }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.dark .page {\r\n  background: $dark-grey-light;\r\n  padding-bottom: 1em;\r\n}\r\n\r\n.dark .page-header,\r\n.dark .add-comment,\r\n.dark .comment,\r\n.dark .no-comment,\r\n.dark .preview-column-content,\r\n.dark .column {\r\n  background: #46494F;\r\n  border-color: $dark-grey;\r\n  box-shadow: 0px 0px 6px #333;\r\n}\r\n\r\nh2.subtitle {\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.page {\r\n  background: #F9F9F9;\r\n  margin-top: 60px;\r\n  padding: 0;\r\n}\r\n\r\n.page-header {\r\n  padding: 1em;\r\n  margin-top: 1em;\r\n  background: white;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n  margin: 2em 1em 0 1em;\r\n}\r\n\r\n.navigation-buttons {\r\n  font-size: 1em;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.navigation-buttons .arrow {\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n}\r\n\r\n.navigation-buttons a {\r\n  color: $grey;\r\n}\r\n\r\n.task-information {\r\n  margin-top: 1em;\r\n}\r\n\r\n.selected {\r\n  border: 0;\r\n}\r\n\r\n.source {\r\n  color: #AAA;\r\n  font-size: 0.8em;\r\n}\r\n\r\nvideo {\r\n  width: 100%;\r\n}\r\n\r\n.validation-buttons button {\r\n  width: 100%;\r\n  margin-bottom: 0.3em;\r\n  border-width: 2px;\r\n  font-weight: bold;\r\n}\r\n\r\n.preview-row {\r\n  margin-bottom: 0.5em;\r\n}\r\n\r\n.add-comment {\r\n  margin-bottom: 1em;\r\n  padding: 1em;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n}\r\n\r\n.no-comment {\r\n  background: white;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n  padding: 1em;\r\n  border-radius: 5px;\r\n}\r\n\r\n.comment {\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n  margin-top: 0.3em;\r\n}\r\n\r\n.task-columns {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.task-column {\r\n  width: 50%;\r\n  padding: 1em;\r\n}\r\n\r\n.preview-column-content {\r\n  background: white;\r\n  box-shadow: 0px 0px 6px #E0E0E0;\r\n  padding: 1em;\r\n  border-radius: 5px;\r\n  overflow-x: hidden;\r\n}\r\n\r\n.preview-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.page-header .tag {\r\n  border-radius: 0;\r\n  font-weight: bold;\r\n  color: $grey-strong;\r\n}\r\n\r\n.assignees {\r\n  display: flex;\r\n}\r\n\r\n.assignees span {\r\n  margin-right: 0.2em;\r\n}\r\n\r\n.avatar-wrapper {\r\n  margin-right: 0.5em;\r\n}\r\n\r\n.entity-thumbnail {\r\n  width: 50px;\r\n  margin-right: 0.3em;\r\n}\r\n\r\n.title {\r\n  margin: 0;\r\n  flex: 1;\r\n}\r\n\r\n.pull-right {\r\n  margin-left: auto;\r\n}\r\n\r\n.title a {\r\n  color: inherit;\r\n}\r\n\r\n.set-main-preview {\r\n  height: 30px;\r\n}\r\n\r\n.back-link {\r\n  padding-top: 6px;\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n  .action-button {\r\n    display: none;\r\n  }\r\n\r\n  .title {\r\n    font-size: 1.3em;\r\n    line-height: 1.5em;\r\n  }\r\n\r\n  .header-title {\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  .header-title .flexrow-item {\r\n    margin-bottom: 0.5em;\r\n  }\r\n\r\n  .task-columns {\r\n    flex-direction: column-reverse;\r\n  }\r\n\r\n  .task-column {\r\n    width: 100%;\r\n    overflow-y: initial;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Task.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Task.vue?vue&type=template&id=c359da9c&scoped=true&\"\nimport script from \"./Task.vue?vue&type=script&lang=js&\"\nexport * from \"./Task.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Task.vue?vue&type=style&index=0&id=c359da9c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c359da9c\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-link',{staticClass:\"button\",attrs:{\"title\":_vm.title,\"to\":_vm.path}},[(_vm.icon.length > 0 && _vm.icon.startsWith('fa'))?_c('span',{staticClass:\"icon is-small\"},[_c('i',{class:'fa ' + _vm.icon})]):_vm._e(),(_vm.icon === 'plus')?_c('plus-icon',{class:{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !_vm.isText\r\n    }}):_vm._e(),(_vm.icon === 'download')?_c('download-icon',{class:{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !_vm.isText\r\n    }}):_vm._e(),(_vm.icon === 'upload')?_c('upload-icon',{class:{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !_vm.isText\r\n    }}):_vm._e(),(_vm.icon === 'edit')?_c('edit-icon',{class:{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !_vm.isText\r\n    }}):_vm._e(),(_vm.icon === 'delete')?_c('trash-icon',{class:{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !_vm.isText\r\n    }}):_vm._e(),(_vm.icon === 'restore')?_c('rotate-ccw-icon',{class:{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !_vm.isText\r\n    }}):_vm._e(),(_vm.isText)?_c('span',{class:{\r\n      text: true,\r\n      'is-hidden-touch': _vm.isResponsive\r\n    }},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<router-link\r\n  class=\"button\"\r\n  :title=\"title\"\r\n  :to=\"path\"\r\n>\r\n  <span class=\"icon is-small\" v-if=\"icon.length > 0 && icon.startsWith('fa')\">\r\n    <i :class=\"'fa ' + icon\"></i>\r\n  </span>\r\n  <plus-icon\r\n    :class=\"{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !isText\r\n    }\" v-if=\"icon === 'plus'\" />\r\n  <download-icon\r\n    :class=\"{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !isText\r\n    }\" v-if=\"icon === 'download'\" />\r\n  <upload-icon\r\n    :class=\"{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !isText\r\n    }\" v-if=\"icon === 'upload'\" />\r\n  <edit-icon\r\n    :class=\"{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !isText\r\n    }\" v-if=\"icon === 'edit'\" />\r\n  <trash-icon\r\n    :class=\"{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !isText\r\n    }\" v-if=\"icon === 'delete'\" />\r\n  <rotate-ccw-icon\r\n    :class=\"{\r\n      icon: true,\r\n      'is-small': true,\r\n      'only-icon': !isText\r\n    }\" v-if=\"icon === 'restore'\" />\r\n\r\n  <span\r\n    :class=\"{\r\n      text: true,\r\n      'is-hidden-touch': isResponsive\r\n    }\"\r\n    v-if=\"isText\"\r\n  >\r\n    {{ text }}\r\n  </span>\r\n</router-link>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  DownloadIcon,\r\n  EditIcon,\r\n  PlusIcon,\r\n  RotateCcwIcon,\r\n  TrashIcon,\r\n  UploadIcon\r\n} from 'vue-feather-icons'\r\n\r\nexport default {\r\n  name: 'button-link',\r\n  components: {\r\n    DownloadIcon,\r\n    EditIcon,\r\n    PlusIcon,\r\n    RotateCcwIcon,\r\n    TrashIcon,\r\n    UploadIcon\r\n  },\r\n  props: {\r\n    text: {\r\n      default: '',\r\n      type: String\r\n    },\r\n    title: {\r\n      default: '',\r\n      type: String\r\n    },\r\n    path: {\r\n      default: ''\r\n    },\r\n    icon: {\r\n      default: '',\r\n      type: String\r\n    },\r\n    isResponsive: {\r\n      default: false,\r\n      type: Boolean\r\n    }\r\n  },\r\n  computed: {\r\n    isText () {\r\n      return this.text && this.text.length > 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.button .icon.is-small.only-icon {\r\n  margin-right: 0;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLink.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ButtonLink.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ButtonLink.vue?vue&type=template&id=143e1424&scoped=true&\"\nimport script from \"./ButtonLink.vue?vue&type=script&lang=js&\"\nexport * from \"./ButtonLink.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ButtonLink.vue?vue&type=style&index=0&id=143e1424&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"143e1424\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}